<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ATLAS â€” Institutional Intelligence Platform</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&family=DM+Sans:wght@300;400;500;600&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<style>
:root {
  --navy:#0a1628; --navy-mid:#122040; --navy-soft:#1c3260;
  --blue:#1a4fa0; --blue-lt:#2563c4; --blue-pale:#dbeafe;
  --slate:#4a6080; --muted:#7a92a8;
  --border:#dde4ed; --border-s:#eef1f6;
  --bg:#f4f6fa; --surface:#fff; --surface2:#f0f4f9;
  --text:#0f1d2e; --text-s:#3d5166; --text-f:#8a9fb4;
  --green:#0a6640; --green-bg:#dcfce7;
  --red:#991b1b; --red-lt:#b91c1c; --red-bg:#fef2f2;
  --amber:#92400e; --amber-bg:#fef9c3;
  --gold:#b7851a; --purple:#5b21b6; --purple-bg:#f3f0ff;
  --teal:#0e7490; --teal-bg:#ecfeff;
  --serif:'Playfair Display',Georgia,serif;
  --sans:'DM Sans',system-ui,sans-serif;
  --mono:'DM Mono','Courier New',monospace;
  --sh-s:0 1px 3px rgba(10,22,40,.06),0 1px 2px rgba(10,22,40,.04);
  --sh-m:0 4px 12px rgba(10,22,40,.08),0 2px 4px rgba(10,22,40,.04);
  --sh-lg:0 12px 32px rgba(10,22,40,.10),0 4px 8px rgba(10,22,40,.05);
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{font-size:13px;scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:var(--sans);line-height:1.55;-webkit-font-smoothing:antialiased}
a{color:inherit;text-decoration:none}
button,input,select{font-family:var(--sans);outline:none}
::-webkit-scrollbar{width:5px;height:5px}
::-webkit-scrollbar-track{background:var(--surface2)}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}

/* â”€â”€ MASTHEAD â”€â”€ */
.masthead{background:var(--navy);border-bottom:2px solid var(--blue);position:sticky;top:0;z-index:500;box-shadow:var(--sh-m)}
.mh-top{display:flex;align-items:stretch;height:50px;padding:0 16px}
.brand{display:flex;align-items:center;gap:10px;padding-right:16px;border-right:1px solid rgba(255,255,255,.1);min-width:180px;flex-shrink:0}
.brand-wm{font-family:var(--serif);font-size:20px;font-weight:700;color:#fff;letter-spacing:.1em}
.brand-rule{width:1px;height:22px;background:rgba(255,255,255,.15)}
.brand-tag{font-size:8px;letter-spacing:.18em;text-transform:uppercase;color:var(--gold);border:1px solid rgba(183,133,26,.5);padding:2px 6px;white-space:nowrap}
.mh-nav{display:flex;align-items:stretch;flex:1;overflow-x:auto;padding:0 6px}
.mh-nav::-webkit-scrollbar{display:none}
.nav-item{display:flex;align-items:center;gap:5px;padding:0 12px;font-size:11px;font-weight:500;letter-spacing:.04em;color:rgba(255,255,255,.45);cursor:pointer;border-bottom:2px solid transparent;white-space:nowrap;transition:color .18s,border-color .18s;user-select:none}
.nav-item:hover{color:rgba(255,255,255,.8)}
.nav-item.active{color:#fff;border-bottom-color:rgba(255,255,255,.65)}
.nb{font-size:8px;font-weight:700;letter-spacing:.03em;padding:1px 5px;border-radius:2px}
.nb-r{background:var(--red-lt);color:#fff}
.nb-b{background:var(--blue-lt);color:#fff}
.nb-g{background:#16a34a;color:#fff;animation:nbg 2s infinite}
@keyframes nbg{0%,100%{opacity:1}50%{opacity:.6}}
.mh-status{display:flex;align-items:center;gap:14px;padding:0 14px;border-left:1px solid rgba(255,255,255,.08);flex-shrink:0}
.st-item{display:flex;flex-direction:column;align-items:flex-end}
.st-val{font-family:var(--mono);font-size:11px;font-weight:500;color:#fff}
.st-lbl{font-size:8px;color:rgba(255,255,255,.35);letter-spacing:.1em;text-transform:uppercase}
.live-ind{display:flex;align-items:center;gap:5px;font-size:9px;font-weight:700;letter-spacing:.1em;color:#4ade80;text-transform:uppercase}
.live-dot{width:6px;height:6px;background:#4ade80;border-radius:50%;animation:ld 2s ease-in-out infinite}
@keyframes ld{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.3;transform:scale(.7)}}
.bell-w{position:relative;cursor:pointer;color:rgba(255,255,255,.5);font-size:14px;transition:color .18s}
.bell-w:hover{color:#fff}
.bell-b{position:absolute;top:-4px;right:-4px;width:14px;height:14px;background:var(--red-lt);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:7.5px;font-weight:700;color:#fff}

/* â”€â”€ TICKER â”€â”€ */
.mh-ticker{background:var(--navy-mid);border-bottom:1px solid rgba(255,255,255,.05);height:26px;overflow:hidden;display:flex;align-items:center}
.ticker-scroll{display:inline-flex;white-space:nowrap;animation:tkr 100s linear infinite}
@keyframes tkr{from{transform:translateX(0)}to{transform:translateX(-50%)}}
.tick{display:inline-flex;align-items:center;gap:7px;padding:0 16px;font-size:10.5px;border-right:1px solid rgba(255,255,255,.06)}
.tk-sym{font-family:var(--mono);font-weight:600;color:#fff;letter-spacing:.04em}
.tk-lbl{color:rgba(255,255,255,.35);font-size:9.5px}
.tk-sig{font-size:8px;font-weight:700;letter-spacing:.08em;padding:1px 5px}
.tks{background:rgba(22,163,74,.25);color:#4ade80}
.tkn{background:rgba(37,99,196,.25);color:#93c5fd}
.tkw{background:rgba(202,138,4,.25);color:#fcd34d}
.tkr{background:rgba(185,28,28,.25);color:#fca5a5}

/* â”€â”€ LAYOUT â”€â”€ */
.wrapper{max-width:1700px;margin:0 auto;padding:18px 20px}
.page{display:none}.page.active{display:block}
.g2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.g3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:14px}
.g4{display:grid;grid-template-columns:repeat(4,1fr);gap:14px}
.g65{display:grid;grid-template-columns:1.7fr 1fr;gap:14px}
.mb14{margin-bottom:14px}.mb20{margin-bottom:20px}
.col-stack{display:flex;flex-direction:column;gap:14px}
@media(max-width:1200px){.g4{grid-template-columns:repeat(2,1fr)}}
@media(max-width:1000px){.g2,.g65,.g3{grid-template-columns:1fr}}

/* â”€â”€ CARDS â”€â”€ */
.card{background:var(--surface);border:1px solid var(--border);box-shadow:var(--sh-s)}
.card-hd{padding:10px 14px;border-bottom:1px solid var(--border-s);display:flex;align-items:center;justify-content:space-between;gap:8px}
.card-title{font-size:9.5px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--navy)}
.card-sub{font-size:9px;color:var(--muted)}
.card-action{font-size:10px;color:var(--blue-lt);cursor:pointer;font-weight:500}
.card-action:hover{text-decoration:underline}

/* â”€â”€ KPI STRIP â”€â”€ */
.kpi-strip{display:grid;gap:1px;background:var(--border);border:1px solid var(--border);box-shadow:var(--sh-s);margin-bottom:14px}
.ks5{grid-template-columns:repeat(5,1fr)}.ks6{grid-template-columns:repeat(6,1fr)}.ks7{grid-template-columns:repeat(7,1fr)}
@media(max-width:1200px){.ks7{grid-template-columns:repeat(4,1fr)}}
@media(max-width:900px){.ks5,.ks6,.ks7{grid-template-columns:repeat(3,1fr)}}
@media(max-width:600px){.ks5,.ks6,.ks7{grid-template-columns:repeat(2,1fr)}}
.kpi{background:var(--surface);padding:12px 14px;position:relative;overflow:hidden;border-bottom:2px solid transparent}
.kpi-label{font-size:8.5px;font-weight:700;letter-spacing:.12em;text-transform:uppercase;color:var(--muted);margin-bottom:5px}
.kpi-value{font-family:var(--mono);font-size:20px;font-weight:500;color:var(--navy);letter-spacing:-.01em;line-height:1}
.kpi-delta{font-size:10px;margin-top:4px;font-weight:500}
.kpi-bar{position:absolute;bottom:0;left:0;height:2px;width:0;transition:width 1.1s ease}

/* â”€â”€ TABLE â”€â”€ */
.tbl{width:100%;border-collapse:collapse}
.tbl th{font-size:8.5px;font-weight:700;letter-spacing:.12em;text-transform:uppercase;color:var(--muted);text-align:left;padding:7px 11px;border-bottom:1px solid var(--border);background:var(--surface2);white-space:nowrap;cursor:pointer;user-select:none;transition:color .15s}
.tbl th:hover{color:var(--navy)}
.tbl th.r,.tbl td.r{text-align:right}.tbl th.c,.tbl td.c{text-align:center}
.tbl td{padding:8px 11px;border-bottom:1px solid var(--border-s);font-size:12px;vertical-align:middle}
.tbl tbody tr:hover{background:var(--bg)}
.tbl tbody tr:last-child td{border-bottom:none}
.tbl-wrap{overflow-y:auto}
.card-fill{display:flex;flex-direction:column}
.card-fill>.tbl-wrap,.card-fill>#edgar-feed,.card-fill>#congress-feed{flex:1;min-height:0}
.sym{font-family:var(--mono);font-size:12.5px;font-weight:600;color:var(--navy);letter-spacing:.04em}
.sym-sub{font-size:9.5px;color:var(--text-s);margin-top:1px}
.val{font-family:var(--mono);font-size:12px;font-weight:500}
.up{color:var(--green)}.dn{color:var(--red-lt)}.am{color:var(--amber)}

/* â”€â”€ TAGS â”€â”€ */
.tag{display:inline-block;font-size:8px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;padding:2px 6px;border:1px solid;white-space:nowrap}
.t-buy{color:var(--green);border-color:#a7f3d0;background:var(--green-bg)}
.t-sell{color:var(--red-lt);border-color:#fca5a5;background:var(--red-bg)}
.t-clus{color:var(--blue);border-color:#93c5fd;background:var(--blue-pale)}
.t-opt{color:var(--amber);border-color:#fcd34d;background:var(--amber-bg)}
.t-bill{color:var(--purple);border-color:#c4b5fd;background:var(--purple-bg)}
.t-flow{color:var(--teal);border-color:#99f6e4;background:var(--teal-bg)}
.t-warn{color:var(--red-lt);border-color:#fca5a5;background:var(--red-bg)}
.t-neut{color:var(--muted);border-color:var(--border-s);background:var(--bg)}

/* â”€â”€ SCORE PILLS â”€â”€ */
.score{display:inline-flex;align-items:center;justify-content:center;min-width:34px;height:20px;font-family:var(--mono);font-size:10.5px;font-weight:700}
.sc1{background:var(--amber-bg);color:#78350f}.sc2{background:#fde8c8;color:#7c2d12}
.sc3{background:var(--red-bg);color:var(--red)}.sc4{background:var(--red-lt);color:#fff}
.sc-bear{background:var(--red-bg);color:var(--red-lt)}

/* â”€â”€ SECTION HEADER â”€â”€ */
.sec-hd{display:flex;align-items:baseline;gap:8px;margin-bottom:11px;padding-bottom:8px;border-bottom:1px solid var(--border)}
.sec-title{font-family:var(--serif);font-size:15px;font-weight:600;color:var(--navy);letter-spacing:-.01em}
.sec-sub{font-size:10px;color:var(--muted)}
.sec-action{margin-left:auto;font-size:10px;color:var(--blue-lt);cursor:pointer;font-weight:500}
.sec-action:hover{text-decoration:underline}

/* â”€â”€ ACADEMIC BOX â”€â”€ */
.acad-box{background:var(--navy);padding:15px 20px;margin-bottom:14px;display:flex;gap:18px;align-items:center;flex-wrap:wrap}
.acad-stat{flex-shrink:0;text-align:center;padding:0 16px;border-right:1px solid rgba(255,255,255,.1)}
.acad-stat:last-of-type{border-right:none}
.acad-num{font-family:var(--serif);font-size:26px;font-weight:700;color:#fff;line-height:1}
.acad-lbl{font-size:8.5px;color:rgba(255,255,255,.4);letter-spacing:.1em;text-transform:uppercase;margin-top:3px}
.acad-text{flex:1;font-size:11px;color:rgba(255,255,255,.6);line-height:1.65;font-style:italic;min-width:200px}
.acad-text cite{display:block;margin-top:4px;font-size:9px;color:rgba(255,255,255,.35);font-style:normal}

/* â”€â”€ FILTER BAR â”€â”€ */
.filter-bar{display:flex;gap:5px;align-items:center;flex-wrap:wrap}
.filter-bar.padded{padding:8px 12px 0;border-bottom:1px solid var(--border-s);margin-bottom:0}
.filter-lbl{font-size:8.5px;font-weight:700;letter-spacing:.12em;text-transform:uppercase;color:var(--muted);flex-shrink:0;margin-right:2px}
.fbtn{font-size:10.5px;font-weight:500;color:var(--text-s);border:1px solid var(--border);background:var(--surface);padding:4px 11px;cursor:pointer;transition:all .15s;font-family:var(--sans);letter-spacing:.02em}
.fbtn:hover{border-color:var(--navy);color:var(--navy)}
.fbtn.active{background:var(--navy);color:#fff;border-color:var(--navy)}

/* â”€â”€ SECTOR BARS â”€â”€ */
.sector-row{display:flex;align-items:center;padding:7px 12px;border-bottom:1px solid var(--border-s);gap:8px}
.sector-row:last-child{border-bottom:none}
.sector-name{font-size:10.5px;color:var(--text-s);font-weight:500;width:108px;flex-shrink:0}
.sector-track{flex:1;height:3px;background:var(--border)}
.sector-fill{height:100%;width:0;transition:width .9s ease}
.sf-pos{background:var(--green)}.sf-neg{background:var(--red-lt)}.sf-neu{background:var(--muted)}
.sector-cnt{font-family:var(--mono);font-size:10px;color:var(--text-s);width:22px;text-align:right;flex-shrink:0}
.sector-perf{font-family:var(--mono);font-size:11px;font-weight:600;width:48px;text-align:right;flex-shrink:0}

/* â”€â”€ SUSPICION BAR INLINE â”€â”€ */
.sus-row{display:flex;align-items:center;gap:6px}
.sus-track{width:55px;height:3px;background:var(--border);flex-shrink:0}
.sus-h{background:var(--red-lt)}.sus-m{background:var(--amber)}.sus-l{background:var(--blue-lt)}

/* â”€â”€ ALERT ROWS â”€â”€ */
.alert-row{display:flex;gap:9px;align-items:flex-start;padding:9px 12px;border-bottom:1px solid var(--border-s)}
.alert-row:last-child{border-bottom:none}
.alert-ico{font-size:12px;flex-shrink:0;margin-top:1px}
.alert-title{font-size:11.5px;font-weight:600;color:var(--text)}
.alert-detail{font-size:10px;color:var(--muted);margin-top:2px;line-height:1.5}
.alert-time{font-size:9px;color:var(--text-f);margin-top:2px}

/* â”€â”€ BILL CARDS â”€â”€ */
.bill-card{padding:10px 12px;border-bottom:1px solid var(--border-s);cursor:pointer;transition:background .15s}
.bill-card:hover{background:var(--bg)}
.bill-hd{display:flex;align-items:flex-start;gap:8px;margin-bottom:6px}
.bill-id{font-family:var(--mono);font-size:12px;font-weight:600;color:var(--navy);flex-shrink:0}
.bill-title{font-size:11.5px;color:var(--text);font-weight:500;flex:1}
.bill-status{font-size:8.5px;letter-spacing:.1em;text-transform:uppercase;font-weight:700;flex-shrink:0}
.bs-l{color:var(--green)}.bs-p{color:var(--amber)}.bs-u{color:var(--red-lt)}
.prob-row{display:flex;align-items:center;gap:7px;margin-bottom:5px}
.prob-lbl{font-size:8.5px;color:var(--muted);width:75px;flex-shrink:0}
.prob-track{flex:1;height:2px;background:var(--border)}
.prob-fill{height:100%;background:linear-gradient(90deg,var(--blue-lt),var(--blue))}
.prob-pct{font-family:var(--mono);font-size:10.5px;color:var(--blue-lt);width:30px;text-align:right;font-weight:600}
.bill-chips{display:flex;flex-wrap:wrap;gap:4px;margin-top:5px}
.bill-chip{display:flex;align-items:center;gap:3px;font-size:9px;padding:2px 6px;border:1px solid var(--border);background:var(--surface2)}
.bc-eff{font-weight:700}
.bcc-bull .bc-eff{color:var(--green)}.bcc-bear .bc-eff{color:var(--red-lt)}.bcc-mix .bc-eff{color:var(--amber)}

/* â”€â”€ HEAT GRID â”€â”€ */
.heat-grid{display:grid;grid-template-columns:repeat(10,1fr);gap:3px;padding:12px}
@media(max-width:900px){.heat-grid{grid-template-columns:repeat(6,1fr)}}
.heat-cell{aspect-ratio:1;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:transform .2s;border:1px solid transparent;text-align:center;padding:3px}
.heat-cell:hover{transform:scale(1.08);border-color:var(--border)}
.hc-sym{font-family:var(--mono);font-size:11px;font-weight:600;margin-bottom:1px}
.hc-nm{font-size:7px;color:rgba(0,0,0,.4);line-height:1.2}
.h0{background:#e8f5ee}.h1{background:#d1fae5}.h2{background:#fef9c3}
.h3{background:#fde8c8}.h4{background:var(--red-bg)}.h5{background:#fee2e2}
.h6{background:var(--red-lt)}.h6 .hc-nm{color:rgba(255,255,255,.5)}
.h0 .hc-sym,.h1 .hc-sym{color:var(--green)}.h2 .hc-sym{color:var(--amber)}
.h3 .hc-sym,.h4 .hc-sym{color:var(--red)}.h5 .hc-sym,.h6 .hc-sym{color:var(--red-lt)}
.h6 .hc-sym{color:#fff}

/* â”€â”€ INDUSTRY MATRIX â”€â”€ */
.ind-matrix{display:grid;grid-template-columns:repeat(6,1fr);gap:1px;background:var(--border)}
@media(max-width:1100px){.ind-matrix{grid-template-columns:repeat(4,1fr)}}
@media(max-width:700px){.ind-matrix{grid-template-columns:repeat(3,1fr)}}
.ind-cell{background:var(--surface);padding:9px 7px;text-align:center;cursor:pointer;transition:background .15s}
.ind-cell:hover{background:var(--bg)}
.ind-name{font-size:8px;letter-spacing:.06em;text-transform:uppercase;color:var(--muted);margin-bottom:3px}
.ind-score{font-family:var(--mono);font-size:16px;font-weight:500;margin-bottom:2px}
.ind-lbl{font-size:7.5px;letter-spacing:.06em;text-transform:uppercase;font-weight:700}
.ic-bull .ind-score,.ic-bull .ind-lbl{color:var(--green)}
.ic-bear .ind-score,.ic-bear .ind-lbl{color:var(--red-lt)}
.ic-neu .ind-score,.ic-neu .ind-lbl{color:var(--muted)}

/* â”€â”€ TIMELINE â”€â”€ */
.timeline{display:flex;flex-direction:column}
.tl-item{display:flex;gap:9px;position:relative}
.tl-item::after{content:'';position:absolute;left:8px;top:18px;bottom:0;width:1px;background:var(--border)}
.tl-item:last-child::after{display:none}
.tl-dot{width:7px;height:7px;border-radius:50%;border:2px solid;background:var(--surface);flex-shrink:0;margin-top:4px;position:relative;z-index:1}
.tl-done{background:var(--navy);border-color:var(--navy)}.tl-near{border-color:var(--red-lt)}
.tl-mid{border-color:var(--amber)}.tl-far{border-color:var(--blue-lt)}
.tl-content{padding-bottom:10px;flex:1}
.tl-date{font-size:8.5px;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:var(--muted);margin-bottom:2px}
.tl-desc{font-size:11px;color:var(--text);line-height:1.5}
.tl-note{font-size:10px;color:var(--text-s);margin-top:2px;font-style:italic}

/* â”€â”€ RESEARCH NOTE COMPONENTS â”€â”€ */
.rn{background:var(--surface);border:1px solid var(--border);border-left:4px solid var(--navy);box-shadow:var(--sh-s);margin-bottom:12px;animation:fu .4s ease both}
.rn.bull{border-left-color:var(--green)}.rn.bear{border-left-color:var(--red-lt)}.rn.amber{border-left-color:var(--amber)}
@keyframes fu{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
.rn-body{display:grid;grid-template-columns:1fr 1fr}
@media(max-width:900px){.rn-body{grid-template-columns:1fr}}
.rn-sec{padding:13px 15px;border-right:1px solid var(--border-s);border-top:1px solid var(--border-s)}
.rn-sec:last-child{border-right:none}
.rn-sec-lbl{font-size:8.5px;font-weight:700;letter-spacing:.12em;text-transform:uppercase;color:var(--navy);margin-bottom:7px;padding-bottom:4px;border-bottom:1px solid var(--border-s)}
.rn-prose{font-size:11.5px;color:var(--text-s);line-height:1.72}
.rn-prose strong{color:var(--text);font-weight:600}
.rn-prose .hl{color:var(--blue-lt);font-weight:500}
.rn-prose .risk{color:var(--red-lt)}.rn-prose .watch{color:var(--amber)}

.rr-block{display:grid;gap:1px;background:var(--border)}
.rrc4{grid-template-columns:repeat(4,1fr)}.rrc5{grid-template-columns:repeat(5,1fr)}.rrc6{grid-template-columns:repeat(6,1fr)}
@media(max-width:800px){.rrc4,.rrc5,.rrc6{grid-template-columns:repeat(2,1fr)}}
.rr-cell{background:var(--surface);padding:9px 12px}
.rr-lbl{font-size:8px;font-weight:700;letter-spacing:.12em;text-transform:uppercase;color:var(--muted);margin-bottom:4px}
.rr-val{font-family:var(--mono);font-size:13px;font-weight:500;color:var(--navy)}
.rr-val.up{color:var(--green)}.rr-val.dn{color:var(--red-lt)}.rr-val.am{color:var(--amber)}
.rr-sub{font-size:9px;color:var(--muted);margin-top:2px}
.rn-ft{padding:8px 15px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:5px;border-top:1px solid var(--border-s)}
.rn-ft-tags{display:flex;gap:4px;flex-wrap:wrap}
.rn-ftag{font-size:8.5px;font-weight:500;color:var(--muted);background:var(--surface2);border:1px solid var(--border);padding:1px 6px}
.rn-date{font-size:9px;color:var(--muted);font-style:italic}

.ev-list{display:flex;flex-direction:column;gap:5px}
.ev-item{display:flex;gap:7px;align-items:flex-start;padding:6px 8px;background:var(--bg);border:1px solid var(--border-s)}
.ev-ico{font-size:10px;flex-shrink:0;margin-top:2px}
.ev-text{font-size:10.5px;color:var(--text-s);line-height:1.5}
.ev-text strong{color:var(--text)}
.ev-src{font-size:8.5px;color:var(--muted);margin-top:1px;font-style:italic}

/* â”€â”€ IDEA CARDS â”€â”€ */
.idea-card{background:var(--surface);border:1px solid var(--border);margin-bottom:12px;box-shadow:var(--sh-s);transition:border-color .2s;animation:fu .5s ease both}
.idea-card:hover{border-color:var(--slate)}
.idea-card.exc{border-left:4px solid var(--red-lt)}.idea-card.str{border-left:4px solid var(--amber)}
.idea-card.not{border-left:4px solid var(--blue-lt)}.idea-card.spec{border-left:4px solid var(--purple)}
.idea-hd{padding:13px 15px;border-bottom:1px solid var(--border-s);display:flex;align-items:flex-start;gap:12px;flex-wrap:wrap}
.idea-num{font-family:var(--serif);font-size:28px;font-weight:700;color:var(--border);line-height:1;flex-shrink:0;margin-top:2px}
.idea-main{flex:1;min-width:160px}
.idea-ticker-row{display:flex;align-items:center;gap:7px;margin-bottom:3px;flex-wrap:wrap}
.idea-ticker{font-family:var(--serif);font-size:20px;font-weight:700;color:var(--navy);line-height:1}
.idea-co{font-size:11.5px;color:var(--text-s);font-weight:500}
.idea-tagline{font-size:10.5px;color:var(--muted);font-style:italic;margin-top:2px;line-height:1.5}
.idea-mets{display:flex;gap:14px;margin-top:7px;flex-wrap:wrap}
.idea-met{display:flex;flex-direction:column;gap:1px}
.idea-met-val{font-family:var(--mono);font-size:12.5px;font-weight:500;color:var(--navy)}
.imv-up{color:var(--green)}.imv-dn{color:var(--red-lt)}.imv-am{color:var(--amber)}.imv-pu{color:var(--purple)}
.idea-met-lbl{font-size:8px;letter-spacing:.08em;text-transform:uppercase;color:var(--muted)}
.idea-conv-block{display:flex;flex-direction:column;align-items:flex-end;gap:2px;flex-shrink:0}
.idea-conv-score{font-family:var(--mono);font-size:36px;font-weight:300;line-height:1;letter-spacing:-.02em}
.idea-conv-lbl{font-size:8px;letter-spacing:.12em;text-transform:uppercase;color:var(--muted)}
.idea-conv-tier{font-size:8px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;padding:2px 7px;margin-top:2px}
.tier-exc{background:var(--red-bg);color:var(--red-lt)}
.tier-str{background:var(--amber-bg);color:var(--amber)}
.tier-not{background:var(--blue-pale);color:var(--blue)}

.act-badge{font-size:9px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;padding:3px 8px;border:1px solid}
.ab-long{color:var(--green);border-color:#a7f3d0;background:var(--green-bg)}
.ab-short{color:var(--red-lt);border-color:#fca5a5;background:var(--red-bg)}
.ab-calls{color:var(--amber);border-color:#fcd34d;background:var(--amber-bg)}
.ab-puts{color:#be185d;border-color:#f9a8d4;background:#fdf2f8}
.ab-etf{color:var(--teal);border-color:#99f6e4;background:var(--teal-bg)}

.ssbar{display:flex;gap:1px;height:5px;border-radius:2px;overflow:hidden;margin:7px 0 3px}
.ss-seg{height:100%}
.ss-cong{background:var(--red-lt)}.ss-ins{background:var(--amber)}.ss-flow{background:var(--blue-lt)}.ss-leg{background:var(--purple)}
.ssbar-lbl{display:flex;gap:10px;font-size:8.5px;color:var(--muted)}
.ssbl{display:flex;align-items:center;gap:3px}
.ssbl-dot{width:6px;height:6px;border-radius:50%;flex-shrink:0}

/* â”€â”€ FLOW CARDS â”€â”€ */
.flow-card{background:var(--surface);border:1px solid var(--border);border-top:3px solid var(--purple);padding:13px 14px;box-shadow:var(--sh-s);animation:fu .4s ease both}
.flow-ticker{font-family:var(--serif);font-size:19px;font-weight:700;color:var(--navy)}
.flow-co{font-size:9.5px;color:var(--muted);margin-top:2px}
.flow-divider{height:1px;background:var(--border-s);margin:7px 0}
.flow-body{font-size:10.5px;color:var(--text-s);line-height:1.65}
.flow-body strong{color:var(--text)}
.flow-foot{display:flex;align-items:center;justify-content:space-between;margin-top:7px;flex-wrap:wrap;gap:4px}

/* â”€â”€ SMS/ALERT â”€â”€ */
.sms-card{background:var(--navy);color:#fff;padding:18px 20px;margin-bottom:14px}
.sms-title{font-family:var(--serif);font-size:17px;font-weight:600;margin-bottom:5px}
.sms-sub{font-size:11px;color:rgba(255,255,255,.5);margin-bottom:14px;line-height:1.65}
.sms-steps{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px}
@media(max-width:700px){.sms-steps{grid-template-columns:1fr}}
.sms-step{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);padding:11px}
.sms-snum{font-family:var(--mono);font-size:20px;font-weight:400;color:rgba(255,255,255,.2);line-height:1;margin-bottom:5px}
.sms-stitle{font-size:11px;font-weight:600;color:#fff;margin-bottom:3px}
.sms-sdesc{font-size:10px;color:rgba(255,255,255,.5);line-height:1.6}
.sms-scode{font-family:var(--mono);font-size:9.5px;background:rgba(255,255,255,.08);padding:3px 7px;margin-top:5px;color:#93c5fd;display:block}
.sms-row{display:flex;gap:7px;flex-wrap:wrap}
.sms-input{flex:1;min-width:180px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.2);color:#fff;padding:8px 11px;font-size:11.5px;font-family:var(--sans)}
.sms-input::placeholder{color:rgba(255,255,255,.3)}
.sms-btn{background:var(--blue-lt);color:#fff;border:none;padding:8px 16px;font-size:11.5px;font-weight:600;cursor:pointer;font-family:var(--sans);transition:background .18s;white-space:nowrap}
.sms-btn:hover{background:#1a4fa0}
.sms-btn.sec{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2)}
.sms-btn.sec:hover{background:rgba(255,255,255,.18)}

/* â”€â”€ NOTIFICATIONS â”€â”€ */
.notif-item{background:var(--surface);border:1px solid var(--border);padding:11px 13px;margin-bottom:7px;display:flex;gap:10px;align-items:flex-start;box-shadow:var(--sh-s);position:relative;animation:slideIn .3s ease both}
@keyframes slideIn{from{opacity:0;transform:translateX(-6px)}to{opacity:1;transform:translateX(0)}}
.notif-item.unread::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--red-lt)}
.notif-ico{font-size:16px;flex-shrink:0}
.notif-title{font-size:12px;font-weight:600;color:var(--text)}
.notif-body{font-size:10.5px;color:var(--text-s);margin-top:2px;line-height:1.5}
.notif-meta{display:flex;align-items:center;gap:7px;margin-top:4px;flex-wrap:wrap}
.notif-time{font-size:9px;color:var(--muted);font-style:italic}
.notif-dismiss{font-size:9px;color:var(--blue-lt);cursor:pointer;margin-left:auto}
.notif-dismiss:hover{text-decoration:underline}

/* â”€â”€ TOAST â”€â”€ */
.toast-wrap{position:fixed;top:68px;right:18px;z-index:9999;display:flex;flex-direction:column;gap:7px;pointer-events:none;width:320px}
.toast{background:var(--navy);color:#fff;padding:11px 14px;border-left:4px solid var(--red-lt);box-shadow:var(--sh-lg);pointer-events:all;animation:tin .3s ease both}
.toast.info{border-left-color:var(--blue-lt)}.toast.warn{border-left-color:var(--amber)}.toast.success{border-left-color:#16a34a}
@keyframes tin{from{opacity:0;transform:translateX(16px)}to{opacity:1;transform:translateX(0)}}
@keyframes tout{from{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(16px)}}
.toast-title{font-size:11.5px;font-weight:600;color:#fff;margin-bottom:2px}
.toast-body{font-size:10px;color:rgba(255,255,255,.6);line-height:1.5}
.toast-close{float:right;cursor:pointer;color:rgba(255,255,255,.35);margin-left:7px;font-size:13px;margin-top:-1px}
.toast-close:hover{color:#fff}

/* â”€â”€ MISC â”€â”€ */
.footnote{font-size:9.5px;color:var(--muted);font-style:italic;padding:6px 12px;border-top:1px solid var(--border-s)}
.cat-banner{display:flex;align-items:center;gap:12px;padding:8px 14px;background:var(--navy);margin-bottom:12px}
.cat-banner-title{font-family:var(--serif);font-size:14px;font-weight:600;color:#fff}
.cat-banner-rule{flex:1;height:1px;background:rgba(255,255,255,.08)}
.cat-banner-cnt{font-family:var(--mono);font-size:10px;color:rgba(255,255,255,.35)}
.watchlist-ribbon{background:var(--surface2);border:1px solid var(--border);padding:10px 14px;margin-bottom:14px;display:flex;gap:6px;align-items:center;flex-wrap:wrap}
.wr-lbl{font-size:9px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--muted);flex-shrink:0}
.wr-chip{display:flex;align-items:center;gap:4px;background:var(--surface);border:1px solid var(--border);padding:3px 9px;cursor:pointer;transition:border-color .15s}
.wr-chip:hover{border-color:var(--navy)}
.wr-sym{font-family:var(--mono);font-weight:600;color:var(--navy);font-size:11.5px}
.wr-score{font-size:9px;color:var(--muted);font-family:var(--mono)}
.disclaimer{padding:12px 20px;background:var(--surface2);border-top:1px solid var(--border);font-size:9.5px;color:var(--muted);line-height:1.7;font-style:italic}

/* â”€â”€ LIVE DATA STYLES â”€â”€ */
.live-price-badge{display:inline-flex;align-items:center;gap:4px;font-family:var(--mono);font-size:10px;font-weight:600;padding:2px 7px;border:1px solid;margin-left:4px;vertical-align:middle}
.lpb-up{color:var(--green);border-color:#a7f3d0;background:var(--green-bg)}
.lpb-dn{color:var(--red-lt);border-color:#fca5a5;background:var(--red-bg)}
.lpb-neu{color:var(--muted);border-color:var(--border);background:var(--surface2)}
.lpb-load{color:var(--muted);border-color:var(--border);background:var(--surface2);animation:pulse-load 1.2s infinite}
@keyframes pulse-load{0%,100%{opacity:.4}50%{opacity:1}}

.zone-badge{display:inline-flex;align-items:center;gap:3px;font-size:9px;font-weight:700;letter-spacing:.08em;text-transform:uppercase;padding:3px 8px;border:1px solid;white-space:nowrap}
.zb-in{color:#065f46;border-color:#6ee7b7;background:#d1fae5}
.zb-above{color:#92400e;border-color:#fcd34d;background:var(--amber-bg)}
.zb-missed{color:var(--red-lt);border-color:#fca5a5;background:var(--red-bg)}
.zb-bear-ok{color:#065f46;border-color:#6ee7b7;background:#d1fae5}
.zb-load{color:var(--muted);border-color:var(--border);background:var(--surface2)}

.price-vs-zone{display:flex;align-items:center;gap:7px;padding:6px 10px;background:var(--surface2);border-top:1px solid var(--border-s);flex-wrap:wrap}
.pvz-label{font-size:9px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--muted)}
.pvz-price{font-family:var(--mono);font-size:13px;font-weight:600;color:var(--navy)}
.pvz-change{font-family:var(--mono);font-size:11px;font-weight:500}
.pvz-time{font-size:8.5px;color:var(--muted);margin-left:auto;font-style:italic}

.data-source-bar{display:flex;align-items:center;gap:10px;padding:5px 14px;background:var(--navy-mid);border-bottom:1px solid rgba(255,255,255,.06);flex-wrap:wrap}
.dsb-item{display:flex;align-items:center;gap:4px;font-size:9px;color:rgba(255,255,255,.45)}
.dsb-dot{width:5px;height:5px;border-radius:50%}
.dsb-ok{background:#4ade80}.dsb-warn{background:#fcd34d}.dsb-err{background:#f87171}.dsb-load{background:var(--muted)}
.dsb-val{color:rgba(255,255,255,.7);font-family:var(--mono);font-weight:500}

.edgar-feed-item{display:flex;gap:8px;align-items:flex-start;padding:8px 12px;border-bottom:1px solid var(--border-s);transition:background .15s}
.edgar-feed-item:hover{background:var(--bg)}
.efi-new{border-left:3px solid var(--red-lt)}
.efi-ticker{font-family:var(--mono);font-weight:700;font-size:12px;color:var(--navy);min-width:40px}
.efi-body{flex:1}
.efi-name{font-size:11px;font-weight:600;color:var(--text)}
.efi-detail{font-size:10px;color:var(--text-s);margin-top:1px}
.efi-time{font-size:8.5px;color:var(--muted);margin-top:2px}
.efi-score{font-family:var(--mono);font-size:11px;font-weight:700;flex-shrink:0}
.new-pulse{display:inline-block;width:6px;height:6px;background:var(--red-lt);border-radius:50%;animation:ld 1.5s infinite;margin-right:3px}

.bill-live-status{display:inline-flex;align-items:center;gap:4px;font-size:8.5px;font-weight:700;padding:2px 7px;border:1px solid}
.bls-adv{color:var(--green);border-color:#a7f3d0;background:var(--green-bg)}
.bls-pend{color:var(--amber);border-color:#fcd34d;background:var(--amber-bg)}
.bls-stall{color:var(--red-lt);border-color:#fca5a5;background:var(--red-bg)}

.mh-data-strip{background:rgba(255,255,255,.03);border-top:1px solid rgba(255,255,255,.05);display:flex;align-items:center;padding:0 16px;gap:16px;height:22px;overflow:hidden}
.mds-item{display:flex;align-items:center;gap:5px;font-size:9.5px;white-space:nowrap}
.mds-sym{font-family:var(--mono);font-weight:600;color:rgba(255,255,255,.7)}
.mds-price{font-family:var(--mono);color:#fff;font-weight:500}
.mds-chg{font-family:var(--mono);font-size:9px}
</style>
</head>
<body>
<div class="toast-wrap" id="toast-wrap"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MASTHEAD â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<header class="masthead">
  <div class="mh-top">
    <div class="brand">
      <div class="brand-wm">ATLAS</div>
      <div class="brand-rule"></div>
      <div class="brand-tag">Institutional Intelligence</div>
    </div>
    <nav class="mh-nav">
      <div class="nav-item active" onclick="goPage('overview',this)">Overview</div>
      <div class="nav-item" onclick="goPage('congress',this)">Congressional Intel <span class="nb nb-r" id="badge-cong">38</span></div>
      <div class="nav-item" onclick="goPage('insider',this)">Insider Signals <span class="nb nb-b" id="badge-ins">14</span></div>
      <div class="nav-item" onclick="goPage('flows',this)">Institutional Flows <span class="nb nb-b">7</span></div>
      <div class="nav-item" onclick="goPage('markets',this)">Markets &amp; Sectors</div>
      <div class="nav-item" onclick="goPage('ideas',this)">Trade Ideas <span class="nb nb-r" id="badge-ideas">8</span></div>
      <div class="nav-item" onclick="goPage('alerts',this)">Alerts &amp; SMS <span class="nb nb-g">Live</span></div>
    </nav>
    <div class="mh-status">
      <div class="st-item"><div class="st-val" id="clock">--:--</div><div class="st-lbl">EST</div></div>
      <div class="st-item"><div class="st-val">Feb 24, 2026</div><div class="st-lbl">Date</div></div>
      <div class="live-ind"><div class="live-dot"></div>Live</div>
      <div class="bell-w" onclick="goPage('alerts',document.querySelector('.nav-item:nth-child(7)'))">
        ðŸ””<div class="bell-b" id="bell-cnt">5</div>
      </div>
    </div>
  </div>
  <div class="mh-ticker">
    <div class="ticker-scroll" id="ticker">
      <span class="tick"><span class="tk-sym">TMDX</span><span class="tk-lbl">CEO $4.2M Buy Â· No 10b5-1</span><span class="tk-sig tks">Score 94</span></span>
      <span class="tick"><span class="tk-sym">RTX</span><span class="tk-lbl">Armed Svcs 5-Member Cluster</span><span class="tk-sig tkr">Congress 94</span></span>
      <span class="tick"><span class="tk-sym">OXY</span><span class="tk-lbl">CEO+Board $28M Â· Berkshire +$2.1B</span><span class="tk-sig tks">Score 91</span></span>
      <span class="tick"><span class="tk-sym">NVDA</span><span class="tk-lbl">Druckenmiller $890M Â· HR 7821 Feb 25</span><span class="tk-sig tkr">Triple Source 92</span></span>
      <span class="tick"><span class="tk-sym">WFRD</span><span class="tk-lbl">CEO+CFO Buy $3.8M Â· original data incorrect</span><span class="tk-sig tkw">SUSPENDED</span></span>
      <span class="tick"><span class="tk-sym">TSM</span><span class="tk-lbl">Foreign Affairs Full Exit</span><span class="tk-sig tkw">Caution âˆ’89</span></span>
      <span class="tick"><span class="tk-sym">PFE</span><span class="tk-lbl">Health Cmte 8 Exits + $3.4B Inst. Exit</span><span class="tk-sig tkw">Dual Bear âˆ’80</span></span>
      <span class="tick"><span class="tk-sym">FCX</span><span class="tk-lbl">Nat. Resources Buy Â· HR 6419 Mar 17</span><span class="tk-sig tkr">Congress 83</span></span>
      <span class="tick"><span class="tk-sym">META</span><span class="tk-lbl">Dir. Sandberg $19.4M Â· Tepper +$1.2B</span><span class="tk-sig tkn">Score 85</span></span>
      <span class="tick"><span class="tk-sym">SB 1882</span><span class="tk-lbl">Defense Modernization Act</span><span class="tk-sig tks">85% Â· Mar 3 Markup</span></span>
      <span class="tick"><span class="tk-sym">HR 7821</span><span class="tk-lbl">AI Infrastructure Act Â· Floor Vote</span><span class="tk-sig tks">78% Â· Feb 25</span></span>
      <span class="tick"><span class="tk-sym">SMPL</span><span class="tk-lbl">CEO 38% Exit Â· No Plan</span><span class="tk-sig tkw">Warning âˆ’81</span></span>
      <!-- duplicate for seamless loop -->
      <span class="tick"><span class="tk-sym">TMDX</span><span class="tk-lbl">CEO $4.2M Buy Â· No 10b5-1</span><span class="tk-sig tks">Score 94</span></span>
      <span class="tick"><span class="tk-sym">RTX</span><span class="tk-lbl">Armed Svcs 5-Member Cluster</span><span class="tk-sig tkr">Congress 94</span></span>
      <span class="tick"><span class="tk-sym">OXY</span><span class="tk-lbl">CEO+Board $28M Â· Berkshire +$2.1B</span><span class="tk-sig tks">Score 91</span></span>
      <span class="tick"><span class="tk-sym">NVDA</span><span class="tk-lbl">Druckenmiller $890M Â· HR 7821 Feb 25</span><span class="tk-sig tkr">Triple Source 92</span></span>
      <span class="tick"><span class="tk-sym">WFRD</span><span class="tk-lbl">CEO+CFO Buy $3.8M Â· original data incorrect</span><span class="tk-sig tkw">SUSPENDED</span></span>
      <span class="tick"><span class="tk-sym">TSM</span><span class="tk-lbl">Foreign Affairs Full Exit</span><span class="tk-sig tkw">Caution âˆ’89</span></span>
      <span class="tick"><span class="tk-sym">PFE</span><span class="tk-lbl">Health Cmte 8 Exits + $3.4B Inst. Exit</span><span class="tk-sig tkw">Dual Bear âˆ’80</span></span>
      <span class="tick"><span class="tk-sym">FCX</span><span class="tk-lbl">Nat. Resources Buy Â· HR 6419 Mar 17</span><span class="tk-sig tkr">Congress 83</span></span>
    </div>
  </div>
  <div class="mh-data-strip" id="price-strip">
    <div class="mds-item"><span class="mds-sym" style="color:rgba(255,255,255,.3);font-size:8.5px;letter-spacing:.1em">LIVE PRICES</span></div>
    <div class="mds-item" id="ps-RTX"><span class="mds-sym">RTX</span><span class="mds-price lpb-load">â€”</span></div>
    <div class="mds-item" id="ps-NVDA"><span class="mds-sym">NVDA</span><span class="mds-price lpb-load">â€”</span></div>
    <div class="mds-item" id="ps-OXY"><span class="mds-sym">OXY</span><span class="mds-price lpb-load">â€”</span></div>
    <div class="mds-item" id="ps-TMDX"><span class="mds-sym">TMDX</span><span class="mds-price lpb-load">â€”</span></div>
    <div class="mds-item" id="ps-FCX"><span class="mds-sym">FCX</span><span class="mds-price lpb-load">â€”</span></div>
    <div class="mds-item" id="ps-ITA"><span class="mds-sym">ITA</span><span class="mds-price lpb-load">â€”</span></div>
    <div class="mds-item" id="ps-PFE"><span class="mds-sym">PFE</span><span class="mds-price lpb-load">â€”</span></div>
    <div class="mds-item" id="ps-TSM"><span class="mds-sym">TSM</span><span class="mds-price lpb-load">â€”</span></div>
    <div class="mds-item" id="ps-META"><span class="mds-sym">META</span><span class="mds-price lpb-load">â€”</span></div>
    <div class="mds-item" id="ps-WFRD"><span class="mds-sym">WFRD</span><span class="mds-price lpb-load">â€”</span></div>
    <div class="mds-item" id="ps-SMPL"><span class="mds-sym">SMPL</span><span class="mds-price lpb-load">â€”</span></div>
    <div style="margin-left:auto;display:flex;align-items:center;gap:10px">
      <div class="dsb-item"><div class="dsb-dot dsb-load" id="dot-finnhub"></div><span id="lbl-finnhub">Prices</span></div>
      <div class="dsb-item"><div class="dsb-dot dsb-load" id="dot-edgar"></div><span id="lbl-edgar">EDGAR</span></div>
      <div class="dsb-item"><div class="dsb-dot dsb-load" id="dot-congress"></div><span id="lbl-congress">Congress</span></div>
      <span style="font-size:8px;color:rgba(255,255,255,.2);font-family:var(--mono)" id="last-refresh">â€”</span>
    </div>
  </div>
</header>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: OVERVIEW â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-overview" class="page active">
<div class="wrapper">
  <div class="acad-box">
    <div class="acad-stat"><div class="acad-num">3</div><div class="acad-lbl">Signal Sources</div></div>
    <div class="acad-stat"><div class="acad-num">+11.4%</div><div class="acad-lbl">Avg Alpha 12mo</div></div>
    <div class="acad-stat"><div class="acad-num">22</div><div class="acad-lbl">Active Signals</div></div>
    <div class="acad-stat"><div class="acad-num">4</div><div class="acad-lbl">Cluster Events</div></div>
    <div class="acad-text">ATLAS cross-references corporate Form 4 filings, congressional STOCK Act disclosures, and institutional 13F/dark-pool flow data to surface statistically significant alpha signals. Strongest predictor: CEO open-market purchases (+8.9% annual alpha, Seyhun 1998; +16.2% at score â‰¥86). Corroborating sources elevate conviction materially. <cite>Data: SEC EDGAR Â· STOCK Act Â· Congress.gov Â· FINRA ATS Â· SEC 13F</cite></div>
  </div>
  <div class="kpi-strip ks7" id="brain-kpi-strip">
    <div class="kpi"><div class="kpi-bar" id="kb1" style="background:var(--navy)"></div><div class="kpi-label">Top Signal Score</div><div class="kpi-value" id="kpi-top-score">94</div><div class="kpi-delta up" id="kpi-top-tickers">TMDX / RTX</div></div>
    <div class="kpi"><div class="kpi-bar" id="kb2" style="background:var(--red-lt)"></div><div class="kpi-label">Exceptional Signals</div><div class="kpi-value" id="kpi-exceptional">9</div><div class="kpi-delta dn">Score â‰¥ 80</div></div>
    <div class="kpi"><div class="kpi-bar" id="kb3" style="background:var(--amber)"></div><div class="kpi-label">Cluster Events</div><div class="kpi-value" id="kpi-clusters">4</div><div class="kpi-delta am">3+ insiders same co.</div></div>
    <div class="kpi"><div class="kpi-bar" id="kb4" style="background:var(--blue-lt)"></div><div class="kpi-label">Congress Flags</div><div class="kpi-value" id="kpi-congress">38</div><div class="kpi-delta up">High suspicion trades</div></div>
    <div class="kpi"><div class="kpi-bar" id="kb5" style="background:var(--purple)"></div><div class="kpi-label">Atypical Inst. Flows</div><div class="kpi-value">7</div><div class="kpi-delta" style="color:var(--purple)">Unusual positions</div></div>
    <div class="kpi"><div class="kpi-bar" id="kb6" style="background:var(--green)"></div><div class="kpi-label">Bills w/ Mkt Impact</div><div class="kpi-value">6</div><div class="kpi-delta up">Avg 64% passage</div></div>
    <div class="kpi"><div class="kpi-bar" id="kb7" style="background:var(--navy)"></div><div class="kpi-label">Correlated Ideas</div><div class="kpi-value" id="kpi-convergence">8</div><div class="kpi-delta up">Multi-source confirmed</div></div>
  </div>
  <div class="g65 mb14">
    <div class="card card-fill">
      <div class="card-hd"><div class="card-title">Top Signals â€” All Sources Â· Rolling 30 Days</div><div class="card-action" onclick="goPage('ideas',document.querySelector('.nav-item:nth-child(6)'))">View Trade Ideas â†’</div></div>
      <div class="tbl-wrap">
        <table class="tbl">
          <thead><tr><th onclick="sortTbl(this)">Security</th><th>Signal Type</th><th>Actor / Event</th><th class="c" onclick="sortTbl(this)">Score</th><th class="r" onclick="sortTbl(this)">Value</th><th>Direction</th></tr></thead>
          <tbody id="top-signals-tbl">
            <tr><td colspan="6" style="padding:16px;text-align:center;color:var(--muted);font-size:11px">
              <span class="new-pulse" style="display:inline-block;margin-right:6px"></span>
              Computing live convergence scores...
            </td></tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="col-stack">
      <div class="card">
        <div class="card-hd"><div class="card-title">Sector Signal Heat</div><div class="card-sub">Cross-source 30-day activity</div></div>
        <div id="sector-heat-container">
          <div style="text-align:center;color:var(--muted);font-size:10px;padding:12px">Loading sector data...</div>
        </div>
      </div>
      <div class="card">
        <div class="card-hd"><div class="card-title">Live Alerts</div><div class="card-action" onclick="goPage('alerts',document.querySelector('.nav-item:nth-child(7)'))">View all â†’</div></div>
        <div id="live-alerts-panel">
          <div style="padding:16px;text-align:center;color:var(--muted);font-size:11px">
            <span class="live-dot" style="display:inline-block;margin-right:6px"></span>
            Monitoring live signals â€” no alerts above threshold yet
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Live EDGAR + Congress feeds -->
  <div class="g2 mb14">
    <div class="card card-fill">
      <div class="card-hd">
        <div class="card-title">Live EDGAR Form 4 Feed <span class="new-pulse" style="margin-left:4px"></span></div>
        <div class="card-sub" id="edgar-last-check">Checking SEC EDGAR...</div>
      </div>
      <div id="edgar-feed" style="overflow-y:auto">
        <div style="padding:20px;text-align:center;color:var(--muted);font-size:11px">
          <div class="new-pulse" style="display:inline-block;margin-right:6px"></div>Fetching latest Form 4 filings...
        </div>
      </div>
      <div class="footnote">SEC EDGAR full-text search Â· Tracked tickers only Â· Refreshes every 90 seconds</div>
    </div>
    <div class="card card-fill">
      <div class="card-hd">
        <div class="card-title">Congress.gov â€” Bill Status Live</div>
        <div class="card-sub" id="congress-last-check">Fetching bill data...</div>
      </div>
      <div id="congress-feed" style="overflow-y:auto">
        <div style="padding:20px;text-align:center;color:var(--muted);font-size:11px">
          <div class="new-pulse" style="display:inline-block;margin-right:6px"></div>Connecting to Congress.gov API...
        </div>
      </div>
      <div class="footnote">Congress.gov API Â· Live bill status Â· Committee actions Â· Vote schedules</div>
    </div>
  </div>
</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: CONGRESSIONAL INTEL â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-congress" class="page">
<div class="wrapper">
  <div class="kpi-strip ks5">
    <div class="kpi"><div class="kpi-bar" style="background:var(--navy);width:100%"></div><div class="kpi-label">Filings This Month</div><div class="kpi-value">247</div><div class="kpi-delta up">â†‘ 34% vs avg</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--red-lt);width:60%"></div><div class="kpi-label">High Suspicion Trades</div><div class="kpi-value" id="kb-cong-suspicion">...</div><div class="kpi-delta dn">Score â‰¥ 30 Â· live</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--blue-lt);width:75%"></div><div class="kpi-label">Total Vol. Disclosed</div><div class="kpi-value">--</div><div class="kpi-delta" style="color:var(--muted)">No live source</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--green);width:85%"></div><div class="kpi-label">Avg Outperformance</div><div class="kpi-value">--</div><div class="kpi-delta" style="color:var(--muted)">No backtesting source</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--amber);width:50%"></div><div class="kpi-label">Late STOCK Act Filers</div><div class="kpi-value">--</div><div class="kpi-delta" style="color:var(--muted)">No live source</div></div>
  </div>
  <div class="g65 mb14">
    <div class="card card-fill">
      <div class="card-hd"><div class="card-title">High-Suspicion Congressional Trades</div><div class="card-sub">Ranked by signal score</div></div>
      <div class="filter-bar padded">
        <span class="filter-lbl">Filter:</span>
        <button class="fbtn active" onclick="filterCong('all',this)">All</button>
        <button class="fbtn" onclick="filterCong('senate',this)">Senate</button>
        <button class="fbtn" onclick="filterCong('house',this)">House</button>
        <button class="fbtn" onclick="filterCong('flagged',this)">Flagged</button>
        <button class="fbtn" onclick="filterCong('option',this)">Options Only</button>
        <button class="fbtn" onclick="filterCong('sell',this)">Sells/Exits</button>
      </div>
      <div class="tbl-wrap">
        <table class="tbl" id="cong-tbl">
          <thead><tr><th>#</th><th onclick="sortTbl(this)">Member â†•</th><th onclick="sortTbl(this)">Ticker â†•</th><th class="r" onclick="sortTbl(this)">Amount â†•</th><th class="c">Type</th><th onclick="sortTbl(this)">Suspicion Score â†•</th><th onclick="sortTbl(this)">Date â†•</th></tr></thead>
          <tbody>
            <tr id="cong-loading-row">
              <td colspan="7" style="padding:16px;text-align:center;color:var(--muted);font-size:11px">
                <span class="new-pulse" style="display:inline-block;margin-right:6px"></span>
                Loading congressional trades from QuiverQuant...
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="col-stack">
      <div class="card">
        <div class="card-hd"><div class="card-title">Committee Correlation</div><div class="card-sub">Trade-to-jurisdiction match rate Â· <span style="color:var(--amber);font-weight:600">(Historical estimate)</span></div></div>
        <div id="committee-corr-container">
          <div class="sector-row"><div class="sector-name">Armed Services</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="94%"></div></div><div class="sector-cnt" style="color:var(--red-lt)">94%</div><div class="sector-perf" style="font-size:10px;color:var(--muted)">34 trades</div></div>
          <div class="sector-row"><div class="sector-name">Foreign Affairs</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="89%"></div></div><div class="sector-cnt" style="color:var(--red-lt)">89%</div><div class="sector-perf" style="font-size:10px;color:var(--muted)">12 trades</div></div>
          <div class="sector-row"><div class="sector-name">Science &amp; Tech</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="88%"></div></div><div class="sector-cnt" style="color:var(--red-lt)">88%</div><div class="sector-perf" style="font-size:10px;color:var(--muted)">28 trades</div></div>
          <div class="sector-row"><div class="sector-name">Energy/Enviro</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="82%"></div></div><div class="sector-cnt" style="color:var(--amber)">82%</div><div class="sector-perf" style="font-size:10px;color:var(--muted)">19 trades</div></div>
          <div class="sector-row"><div class="sector-name">Finance</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="78%"></div></div><div class="sector-cnt" style="color:var(--amber)">78%</div><div class="sector-perf" style="font-size:10px;color:var(--muted)">41 trades</div></div>
          <div class="sector-row"><div class="sector-name">Health Policy</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="71%"></div></div><div class="sector-cnt" style="color:var(--amber)">71%</div><div class="sector-perf" style="font-size:10px;color:var(--muted)">22 trades</div></div>
        </div>
      </div>
      <div class="card">
        <div class="card-hd"><div class="card-title">Legislative Calendar</div><div class="card-sub">Upcoming market catalysts</div></div>
        <div id="legislative-calendar" style="padding:10px 12px">
          <div style="text-align:center;color:var(--muted);font-size:10px;padding:12px">Loading legislative calendar...</div>
        </div>
      </div>
    </div>
  </div>
  <div class="g2 mb14">
    <div class="card">
      <div class="card-hd"><div class="card-title">Active Bills â€” Passage Probability &amp; Market Impact</div></div>
      <div>
        <div class="bill-card"><div class="bill-hd"><div class="bill-id">SB 1882</div><div class="bill-title">National Defense Modernization Act</div><div class="bill-status bs-l">Likely â†‘</div></div><div class="prob-row"><div class="prob-lbl">Passage prob.</div><div class="prob-track"><div class="prob-fill" style="width:85%"></div></div><div class="prob-pct">85%</div></div><div class="bill-chips"><div class="bill-chip bcc-bull"><span class="bc-sec">Defense Prime</span><span class="bc-eff">â†‘â†‘â†‘</span></div><div class="bill-chip bcc-bull"><span class="bc-sec">Cyber Sec</span><span class="bc-eff">â†‘â†‘</span></div><div class="bill-chip bcc-bull"><span class="bc-sec">Aerospace</span><span class="bc-eff">â†‘</span></div></div></div>
        <div class="bill-card"><div class="bill-hd"><div class="bill-id">HR 7821</div><div class="bill-title">American AI Infrastructure Act</div><div class="bill-status bs-l">Likely â†‘</div></div><div class="prob-row"><div class="prob-lbl">Passage prob.</div><div class="prob-track"><div class="prob-fill" style="width:78%"></div></div><div class="prob-pct">78%</div></div><div class="bill-chips"><div class="bill-chip bcc-bull"><span class="bc-sec">Semiconductors</span><span class="bc-eff">â†‘â†‘</span></div><div class="bill-chip bcc-bull"><span class="bc-sec">AI Infra</span><span class="bc-eff">â†‘â†‘</span></div><div class="bill-chip bcc-bear"><span class="bc-sec">China Tech</span><span class="bc-eff">â†“â†“</span></div></div></div>
        <div class="bill-card"><div class="bill-hd"><div class="bill-id">HR 6419</div><div class="bill-title">Critical Minerals &amp; Mining Security Act</div><div class="bill-status bs-l">Likely â†‘</div></div><div class="prob-row"><div class="prob-lbl">Passage prob.</div><div class="prob-track"><div class="prob-fill" style="width:71%"></div></div><div class="prob-pct">71%</div></div><div class="bill-chips"><div class="bill-chip bcc-bull"><span class="bc-sec">Copper</span><span class="bc-eff">â†‘â†‘</span></div><div class="bill-chip bcc-bull"><span class="bc-sec">Lithium</span><span class="bc-eff">â†‘â†‘</span></div><div class="bill-chip bcc-bear"><span class="bc-sec">Imports</span><span class="bc-eff">â†“</span></div></div></div>
        <div class="bill-card"><div class="bill-hd"><div class="bill-id">SB 2241</div><div class="bill-title">Drug Price Negotiation Expansion Act</div><div class="bill-status bs-p">Possible â†•</div></div><div class="prob-row"><div class="prob-lbl">Passage prob.</div><div class="prob-track"><div class="prob-fill" style="width:52%"></div></div><div class="prob-pct">52%</div></div><div class="bill-chips"><div class="bill-chip bcc-bear"><span class="bc-sec">Large Pharma</span><span class="bc-eff">â†“â†“</span></div><div class="bill-chip bcc-bull"><span class="bc-sec">PBMs</span><span class="bc-eff">â†‘</span></div></div></div>
      </div>
    </div>
    <div class="card">
      <div class="card-hd"><div class="card-title">Congressional Trading Heatmap</div><div class="card-sub">Buy intensity by security â€” darker = higher concentration</div></div>
      <div class="heat-grid" id="congress-heatmap">
        <div class="heat-cell h6"><div class="hc-sym">RTX</div><div class="hc-nm">Raytheon</div></div>
        <div class="heat-cell h6"><div class="hc-sym">NVDA</div><div class="hc-nm">NVIDIA</div></div>
        <div class="heat-cell h5"><div class="hc-sym">LMT</div><div class="hc-nm">Lockheed</div></div>
        <div class="heat-cell h5"><div class="hc-sym">XOM</div><div class="hc-nm">ExxonMobil</div></div>
        <div class="heat-cell h4"><div class="hc-sym">MSFT</div><div class="hc-nm">Microsoft</div></div>
        <div class="heat-cell h4"><div class="hc-sym">NOC</div><div class="hc-nm">Northrop</div></div>
        <div class="heat-cell h4"><div class="hc-sym">LLY</div><div class="hc-nm">Eli Lilly</div></div>
        <div class="heat-cell h4"><div class="hc-sym">AAPL</div><div class="hc-nm">Apple</div></div>
        <div class="heat-cell h3"><div class="hc-sym">JPM</div><div class="hc-nm">JPMorgan</div></div>
        <div class="heat-cell h3"><div class="hc-sym">FCX</div><div class="hc-nm">Freeport</div></div>
        <div class="heat-cell h2"><div class="hc-sym">AMZN</div><div class="hc-nm">Amazon</div></div>
        <div class="heat-cell h2"><div class="hc-sym">CVX</div><div class="hc-nm">Chevron</div></div>
        <div class="heat-cell h1"><div class="hc-sym">GS</div><div class="hc-nm">Goldman</div></div>
        <div class="heat-cell h1"><div class="hc-sym">ADM</div><div class="hc-nm">Archer-D</div></div>
        <div class="heat-cell h0"><div class="hc-sym">TSLA</div><div class="hc-nm">Tesla</div></div>
        <div class="heat-cell h0"><div class="hc-sym">GOOG</div><div class="hc-nm">Alphabet</div></div>
      </div>
    </div>
  </div>
</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: INSIDER SIGNALS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-insider" class="page">
<div class="wrapper">
  <div class="acad-box">
    <div class="acad-stat"><div class="acad-num">+8.9%</div><div class="acad-lbl">Avg Annual Alpha</div></div>
    <div class="acad-stat"><div class="acad-num">30yr</div><div class="acad-lbl">Study Period</div></div>
    <div class="acad-stat"><div class="acad-num">2.4Ã—</div><div class="acad-lbl">vs Market</div></div>
    <div class="acad-stat"><div class="acad-num">48hr</div><div class="acad-lbl">Max Filing Lag</div></div>
    <div class="acad-text">"Open-market purchases by corporate officers and directors generate statistically significant abnormal returns. Signal strongest for C-suite executives operating outside pre-planned 10b5-1 windows. CEO buys at 52-week lows are the highest-quality subset." <cite>â€” Seyhun (1998); Lakonishok &amp; Lee (2001); Cohen, Malloy &amp; Pomorski (2012)</cite></div>
  </div>
  <div class="kpi-strip ks6" id="insider-kpi-strip">
    <div class="kpi"><div class="kpi-bar" style="background:var(--navy);width:100%"></div><div class="kpi-label">Form 4 Filings Today</div><div class="kpi-value" id="ins-kpi-today">--</div><div class="kpi-delta" id="ins-kpi-today-d" style="color:var(--muted)">Loadingâ€¦</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--blue-lt);width:80%"></div><div class="kpi-label">Total Filings (7d)</div><div class="kpi-value" id="ins-kpi-total">--</div><div class="kpi-delta" id="ins-kpi-total-d" style="color:var(--muted)">SEC EDGAR EFTS</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--amber);width:40%"></div><div class="kpi-label">Cluster Events</div><div class="kpi-value" id="ins-kpi-clusters">--</div><div class="kpi-delta am" id="ins-kpi-clusters-d">3+ insiders same co.</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--green);width:60%"></div><div class="kpi-label">Open-Market Purchases</div><div class="kpi-value" id="ins-kpi-tracked">--</div><div class="kpi-delta" id="ins-kpi-tracked-d" style="color:var(--muted)">Discretionary buys</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--purple);width:70%"></div><div class="kpi-label">CEO / C-Suite Buys</div><div class="kpi-value" id="ins-kpi-cos">--</div><div class="kpi-delta" id="ins-kpi-cos-d" style="color:var(--muted)">Highest-signal role</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--slate);width:55%"></div><div class="kpi-label">10b5-1 Plan Filings</div><div class="kpi-value" id="ins-kpi-insiders">--</div><div class="kpi-delta" id="ins-kpi-insiders-d" style="color:var(--muted)">Pre-planned (discounted)</div></div>
  </div>
  <div class="g65 mb14">
    <div class="card card-fill">
      <div class="card-hd"><div class="card-title">SEC Form 4 Filings â€” Rolling 7 Days</div><div class="card-sub">Live EDGAR EFTS feed Â· Cluster filings sorted first Â· Tracked tickers highlighted</div></div>
      <div class="filter-bar padded">
        <span class="filter-lbl">Filter:</span>
        <button class="fbtn active" onclick="filterIns('all',this)">All Signals</button>
        <button class="fbtn" onclick="filterIns('buy',this)">Purchases</button>
        <button class="fbtn" onclick="filterIns('cluster',this)">Clusters</button>
        <button class="fbtn" onclick="filterIns('sell',this)">Sales</button>
      </div>
      <div class="tbl-wrap">
        <table class="tbl" id="ins-tbl">
          <thead><tr><th onclick="sortTbl(this)">Security â†•</th><th>Insiders &amp; Roles</th><th class="r" onclick="sortTbl(this)">Value â†•</th><th class="r">Filings</th><th class="c">Signal</th><th class="c" onclick="sortTbl(this)">Score â†•</th><th onclick="sortTbl(this)">Filed â†•</th></tr></thead>
          <tbody id="ins-tbl-body">
            <tr><td colspan="7" style="padding:16px;text-align:center;color:var(--muted);font-size:11px">
              <span class="new-pulse" style="display:inline-block;margin-right:6px"></span>
              Loading EDGAR Form 4 filings...
            </td></tr>
          </tbody>
        </table>
      </div>
      <div class="footnote">Signal scores â‰¥ 70 flagged. Incorporates role seniority, purchase size vs. compensation, blackout timing, historical accuracy. Source: SEC EDGAR Form 4.</div>
    </div>
    <div class="col-stack">
      <div class="card">
        <div class="card-hd" id="exits-card-hd"><div class="card-title">Notable Exit Signals <span class="tag t-neut" style="vertical-align:middle;margin-left:4px">DEMO</span></div><div class="card-sub">Discretionary open-market sells Â· Requires Form 4 XML parsing for live data</div></div>
        <div class="tbl-wrap" style="max-height:160px">
          <table class="tbl">
            <thead><tr><th>Security</th><th>Insider</th><th class="r">Value</th><th class="c">Score</th></tr></thead>
            <tbody id="exits-tbody">
              <tr><td><div class="sym">SMPL</div><div class="sym-sub">Simply Good Foods</div></td><td><div style="font-size:11px;font-weight:600">B. Morgan Â· CEO</div><div class="sym-sub">38% stake Â· No plan</div></td><td class="r"><span class="val dn">$6.2M</span></td><td class="c"><span class="score sc-bear">âˆ’81</span></td></tr>
              <tr><td><div class="sym">DOCS</div><div class="sym-sub">Doximity</div></td><td><div style="font-size:11px;font-weight:600">J. Tangney Â· CEO</div><div class="sym-sub">10b5-1 plan Â· Routine liquidity</div></td><td class="r"><span class="val dn">$14.4M</span></td><td class="c"><span class="score sc1">âˆ’44</span></td></tr>
            </tbody>
          </table>
        </div>
        <div class="footnote">Negative scores: higher magnitude = stronger bearish signal. 10b5-1 sales discounted 60%.</div>
      </div>
      <div class="card">
        <div class="card-hd" id="insider-sector-hd"><div class="card-title">Sector Insider Activity <span class="tag t-neut" style="vertical-align:middle;margin-left:4px">DEMO</span></div><div class="card-sub">30-day signal Â· Fwd 12mo avg return Â· Requires sector mapping for live data</div></div>
        <div id="insider-sector-container">
          <div class="sector-row"><div class="sector-name">Energy</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="88%"></div></div><div class="sector-cnt">31</div><div class="sector-perf up">+14.2%</div></div>
          <div class="sector-row"><div class="sector-name">Technology</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="76%"></div></div><div class="sector-cnt">24</div><div class="sector-perf up">+11.8%</div></div>
          <div class="sector-row"><div class="sector-name">Health Care</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="70%"></div></div><div class="sector-cnt">19</div><div class="sector-perf up">+9.4%</div></div>
          <div class="sector-row"><div class="sector-name">Industrials</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="55%"></div></div><div class="sector-cnt">14</div><div class="sector-perf up">+7.1%</div></div>
          <div class="sector-row"><div class="sector-name">Comm. Svcs</div><div class="sector-track"><div class="sector-fill sf-neg" data-w="28%"></div></div><div class="sector-cnt">6</div><div class="sector-perf dn">âˆ’2.1%</div></div>
        </div>
      </div>
      <div class="card">
        <div class="card-hd"><div class="card-title">Score Methodology</div></div>
        <div style="padding:10px 12px;display:flex;flex-direction:column;gap:7px">
          <div style="display:flex;justify-content:space-between;align-items:center"><span style="font-size:11px;color:var(--text-s)">Role Seniority</span><span style="font-family:var(--mono);font-size:11px;font-weight:600;color:var(--navy)">30%</span></div>
          <div style="display:flex;justify-content:space-between;align-items:center"><span style="font-size:11px;color:var(--text-s)">Transaction Type</span><span style="font-family:var(--mono);font-size:11px;font-weight:600;color:var(--navy)">25%</span></div>
          <div style="display:flex;justify-content:space-between;align-items:center"><span style="font-size:11px;color:var(--text-s)">Size vs. Compensation</span><span style="font-family:var(--mono);font-size:11px;font-weight:600;color:var(--navy)">25%</span></div>
          <div style="display:flex;justify-content:space-between;align-items:center"><span style="font-size:11px;color:var(--text-s)">Historical Accuracy</span><span style="font-family:var(--mono);font-size:11px;font-weight:600;color:var(--navy)">20%</span></div>
          <div style="border-top:1px solid var(--border-s);padding-top:7px;font-size:9.5px;color:var(--muted);font-style:italic">Score â‰¥86 â†’ +16.2% avg 12mo / 74% win rate. Score 76â€“85 â†’ +11.8% / 68%.</div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: INSTITUTIONAL FLOWS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-flows" class="page">
<div class="wrapper">
  <div class="sec-hd mb14"><div class="sec-title">Institutional Flows â€” Atypical &amp; Anomalous Activity</div><div class="sec-sub">13F changes Â· Dark pool blocks Â· Unusual options sweeps Â· Non-routine behavior screened</div></div>
  <div class="kpi-strip ks5">
    <div class="kpi"><div class="kpi-bar" style="background:var(--purple);width:70%"></div><div class="kpi-label">Atypical 13F Moves</div><div class="kpi-value">7</div><div class="kpi-delta" style="color:var(--purple)">New positions â‰¥$500M</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--red-lt);width:55%"></div><div class="kpi-label">Dark Pool Anomalies</div><div class="kpi-value">4</div><div class="kpi-delta dn">Unusual block prints</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--amber);width:80%"></div><div class="kpi-label">Options Sweep Alerts</div><div class="kpi-value">11</div><div class="kpi-delta am">OTM sweeps this week</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--blue-lt);width:55%"></div><div class="kpi-label">Short Interest Spikes</div><div class="kpi-value">3</div><div class="kpi-delta" style="color:var(--blue-lt)">â‰¥20% SI change</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--navy);width:45%"></div><div class="kpi-label">Berkshire 13F Updates</div><div class="kpi-value">2</div><div class="kpi-delta up">OXY +$2.1B Â· AAPL hold</div></div>
  </div>
  <div class="g2 mb14">
    <div>
      <div class="sec-hd"><div class="sec-title">Atypical 13F Smart-Money Positioning</div><div class="sec-sub">New &amp; materially changed positions â€” managers with â‰¥70% 5yr win rate Â· <span style="color:var(--amber);font-weight:600">Historical Â· 13F Q4 2025 Â· Not yet live</span></div></div>
      <div class="col-stack">
        <div class="flow-card">
          <div style="display:flex;justify-content:space-between;align-items:flex-start">
            <div><div class="flow-ticker">OXY</div><div class="flow-co">Occidental Petroleum Â· Berkshire Hathaway + Third Point</div></div>
            <div style="text-align:right"><div class="val up" style="font-size:15px;font-family:var(--mono)">+$2.7B</div><div class="sym-sub">Combined new capital Q4</div></div>
          </div>
          <div class="flow-divider"></div>
          <div class="flow-body"><strong>Berkshire now holds 28.9% of OXY outstanding</strong> â€” 6th consecutive accumulation quarter, approaching multiple BHCA thresholds. <strong>Third Point's $620M new position</strong> filed the same quarter signals separate sophisticated capital reaching the same conclusion independently. This triple-overlap (Berkshire, Third Point, CEO Hollub's $18.3M personal purchase at the same 14-month low) is a structurally rare convergent setup. Acquisition scenario adds meaningful probability-weighted upside within 12â€“18 months.</div>
          <div class="flow-foot"><span class="tag t-flow">13F Â· Berkshire + Third Point</span><span class="tag t-buy">Bullish Convergence</span><span class="sym-sub">Filed Feb 14, 2026</span></div>
        </div>
        <div class="flow-card" style="border-top-color:var(--amber)">
          <div style="display:flex;justify-content:space-between;align-items:flex-start">
            <div><div class="flow-ticker">NVDA</div><div class="flow-co">NVIDIA Corporation Â· Druckenmiller / Duquesne Family Office</div></div>
            <div style="text-align:right"><div class="val up" style="font-size:15px;font-family:var(--mono)">$890M</div><div class="sym-sub">New position Q4 2025</div></div>
          </div>
          <div class="flow-divider"></div>
          <div class="flow-body"><strong>Stanley Druckenmiller's Duquesne initiated a new $890M NVDA position</strong> â€” his largest new technology bet in 3 years. Druckenmiller has a documented 30-year record with fewer than 5 major losing positions. Combined with the AI Subcommittee insider buy and HR 7821 at 78% passage, this is the <strong>only security on the platform with four-source alignment</strong>. The Duquesne position alone justifies a standalone long thesis independent of every other signal.</div>
          <div class="flow-foot"><span class="tag t-flow">13F Â· Duquesne</span><span class="tag t-buy">Four-Source Bull</span><span class="sym-sub">Filed Feb 14, 2026</span></div>
        </div>
        <div class="flow-card" style="border-top-color:var(--red-lt)">
          <div style="display:flex;justify-content:space-between;align-items:flex-start">
            <div><div class="flow-ticker">PFE</div><div class="flow-co">Pfizer Inc. Â· Multiple Healthcare Specialist Funds</div></div>
            <div style="text-align:right"><div class="val dn" style="font-size:15px;font-family:var(--mono)">âˆ’$3.4B</div><div class="sym-sub">Combined exits Q4 2025</div></div>
          </div>
          <div class="flow-divider"></div>
          <div class="flow-body">Four healthcare-specialized institutional managers â€” <strong>Perceptive Advisors, RTW Investments, Baker Bros, and OrbiMed</strong> â€” all materially reduced or fully exited PFE positions in Q4. These are the most sector-focused healthcare funds on the Street. Combined exits total $3.4B. Timing coincides precisely with 8 congressional Health Committee member exits before drug pricing markup. When the most specialized institutional capital AND informed congressional insiders exit the same stock simultaneously, the signal is structurally compelling. <strong>Dual-source bearish score: âˆ’80.</strong></div>
          <div class="flow-foot"><span class="tag t-flow">13F Â· 4 Healthcare Funds</span><span class="tag t-sell">Dual-Source Bear</span><span class="sym-sub">Filed Feb 14, 2026</span></div>
        </div>
        <div class="flow-card" style="border-top-color:var(--blue-lt)">
          <div style="display:flex;justify-content:space-between;align-items:flex-start">
            <div><div class="flow-ticker">META</div><div class="flow-co">Meta Platforms Â· Tepper / Appaloosa Management</div></div>
            <div style="text-align:right"><div class="val up" style="font-size:15px;font-family:var(--mono)">+$1.2B</div><div class="sym-sub">Conviction increase Q4</div></div>
          </div>
          <div class="flow-divider"></div>
          <div class="flow-body">Tepper's Appaloosa increased META by $1.2B in Q4 2025 following AI monetization disclosures. This aligns with Director Sandberg's $19.4M open-market purchase â€” the former COO who built the ad-revenue architecture has more operational insight into META's monetization trajectory than any outside analyst. The combination of Tepper's macro-driven conviction and Sandberg's operational-knowledge purchase represents a <strong>high-quality dual institutional + insider confirmation.</strong></div>
          <div class="flow-foot"><span class="tag t-flow">13F Â· Appaloosa</span><span class="tag t-buy">Institutional + Insider Align</span><span class="sym-sub">Filed Feb 14, 2026</span></div>
        </div>
      </div>
    </div>
    <div>
      <div class="sec-hd"><div class="sec-title">Unusual Options Flow</div><div class="sec-sub">OTM sweeps Â· Premium â‰¥$1M Â· â‰¤60-day expiry Â· Correlated with intel signals Â· <span style="color:var(--amber);font-weight:600">Demo Â· CBOE/OPRA integration not yet live</span></div></div>
      <div class="card mb14">
        <div class="tbl-wrap" style="max-height:240px">
          <table class="tbl">
            <thead><tr><th onclick="sortTbl(this)">Ticker â†•</th><th>Strike / Expiry</th><th class="r" onclick="sortTbl(this)">Premium â†•</th><th>Type</th><th>Signal Context</th></tr></thead>
            <tbody>
              <tr><td><div class="sym">NVDA</div></td><td style="font-family:var(--mono);font-size:11px">$150C Â· Apr 17</td><td class="r"><span class="val up">$6.8M</span></td><td><span class="tag t-opt">Calls</span></td><td style="font-size:10.5px;color:var(--text-s)">Block sweep same day HR 7821 cleared committee. OTM +22%. Triple-correlated.</td></tr>
              <tr><td><div class="sym">RTX</div></td><td style="font-family:var(--mono);font-size:11px">$145C Â· Mar 21</td><td class="r"><span class="val up">$4.2M</span></td><td><span class="tag t-opt">Calls</span></td><td style="font-size:10.5px;color:var(--text-s)">Same session as Armed Svcs classified briefing. OTM +14%. Cluster corroborated.</td></tr>
              <tr><td><div class="sym">XOM</div></td><td style="font-family:var(--mono);font-size:11px">$115C Â· Apr 17</td><td class="r"><span class="val up">$2.9M</span></td><td><span class="tag t-opt">Calls</span></td><td style="font-size:10.5px;color:var(--text-s)">Correlates with Sen. Morrison Finance Cmte option position. Energy bull thesis.</td></tr>
              <tr><td><div class="sym">FCX</div></td><td style="font-family:var(--mono);font-size:11px">$52C Â· Mar 21</td><td class="r"><span class="val up">$1.8M</span></td><td><span class="tag t-opt">Calls</span></td><td style="font-size:10.5px;color:var(--text-s)">Unusual OTM sweep 1 week before HR 6419 markup. Aligns with Rep. Vasquez buy.</td></tr>
              <tr><td><div class="sym">TSM</div></td><td style="font-family:var(--mono);font-size:11px">$165P Â· Mar 7</td><td class="r"><span class="val dn">$3.1M</span></td><td><span class="tag t-sell">Puts</span></td><td style="font-size:10.5px;color:var(--text-s)">Large put sweep day of classified Taiwan briefing. Rep. Park full exit same week.</td></tr>
              <tr><td><div class="sym">PFE</div></td><td style="font-family:var(--mono);font-size:11px">$24P Â· Mar 21</td><td class="r"><span class="val dn">$2.3M</span></td><td><span class="tag t-sell">Puts</span></td><td style="font-size:10.5px;color:var(--text-s)">Block puts same week as Health Committee exits + $3.4B institutional exits.</td></tr>
            </tbody>
          </table>
        </div>
        <div class="footnote">Sourced from CBOE/OPRA. "Sweeps" = single prints â‰¥$1M premium, OTM â‰¥5%, expiring â‰¤60 days. Directional bets by sophisticated participants.</div>
      </div>
      <div class="sec-hd"><div class="sec-title">Short Interest Anomalies</div><div class="sec-sub">â‰¥20% SI increase week-over-week Â· <span style="color:var(--amber);font-weight:600">Demo Â· SI data source not yet integrated</span></div></div>
      <div class="card mb14">
        <div class="tbl-wrap"><table class="tbl"><thead><tr><th>Ticker</th><th class="r">SI %</th><th class="r">Î” vs Prior Wk</th><th>Signal Read</th></tr></thead><tbody>
          <tr><td><div class="sym">SMPL</div><div class="sym-sub">Simply Good Foods</div></td><td class="r"><span class="val dn">18.4%</span></td><td class="r"><span class="val dn">+6.2pp</span></td><td style="font-size:10.5px;color:var(--text-s)">Institutional shorting accelerating after CEO exit. Corroborates âˆ’81 bear thesis.</td></tr>
          <tr><td><div class="sym">TSM</div><div class="sym-sub">Taiwan Semi</div></td><td class="r"><span class="val dn">9.1%</span></td><td class="r"><span class="val dn">+3.8pp</span></td><td style="font-size:10.5px;color:var(--text-s)">Short interest rising as geopolitical risk premium builds post-briefing signal.</td></tr>
          <tr><td><div class="sym">PFE</div><div class="sym-sub">Pfizer</div></td><td class="r"><span class="val dn">7.2%</span></td><td class="r"><span class="val dn">+2.1pp</span></td><td style="font-size:10.5px;color:var(--text-s)">Institutional short thesis building ahead of SB 2241. Aligns with put flow.</td></tr>
        </tbody></table></div>
      </div>
      <div class="sec-hd"><div class="sec-title">Berkshire 13F Tracker</div><div class="sec-sub"><span style="color:var(--amber);font-weight:600">Q4 2025 13F Â· Updated quarterly</span></div></div>
      <div class="card">
        <div style="padding:12px 14px">
          <div style="display:flex;justify-content:space-between;align-items:center;padding:7px 0;border-bottom:1px solid var(--border-s)"><span style="font-size:11.5px;font-weight:600">OXY â€” Occidental</span><span class="val up" style="font-family:var(--mono)">28.9% Â· +$2.1B Q4 Â· 6th consec. add</span></div>
          <div style="display:flex;justify-content:space-between;align-items:center;padding:7px 0;border-bottom:1px solid var(--border-s)"><span style="font-size:11.5px;font-weight:600">AAPL â€” Apple</span><span class="val" style="font-family:var(--mono)">Hold Â· No material change</span></div>
          <div style="display:flex;justify-content:space-between;align-items:center;padding:7px 0;border-bottom:1px solid var(--border-s)"><span style="font-size:11.5px;font-weight:600">BAC â€” Bank of America</span><span class="val dn" style="font-family:var(--mono)">Reduced âˆ’$800M Â· 7th consecutive trim</span></div>
          <div style="display:flex;justify-content:space-between;align-items:center;padding:7px 0"><span style="font-size:11.5px;font-weight:600">KHC â€” Kraft Heinz</span><span class="val" style="font-family:var(--mono)">Hold Â· Strategic asset, no change</span></div>
        </div>
        <div class="footnote">Berkshire 13F filed Feb 14, 2026. 45-day reporting lag from Q4 2025 end. Current positions may differ.</div>
      </div>
    </div>
  </div>
</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: MARKETS & SECTORS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-markets" class="page">
<div class="wrapper">
  <div class="kpi-strip ks6">
    <div class="kpi"><div class="kpi-bar" id="bar-spy" style="background:var(--green);width:60%"></div><div class="kpi-label">S&amp;P 500 <span style="font-size:8px;opacity:.6">SPY</span></div><div class="kpi-value" id="idx-spy-val">â€”</div><div class="kpi-delta" id="idx-spy-delta" style="color:var(--muted)">fetching...</div></div>
    <div class="kpi"><div class="kpi-bar" id="bar-qqq" style="background:var(--green);width:55%"></div><div class="kpi-label">Nasdaq 100 <span style="font-size:8px;opacity:.6">QQQ</span></div><div class="kpi-value" id="idx-qqq-val">â€”</div><div class="kpi-delta" id="idx-qqq-delta" style="color:var(--muted)">fetching...</div></div>
    <div class="kpi"><div class="kpi-bar" id="bar-iwm" style="background:var(--green);width:45%"></div><div class="kpi-label">Russell 2000 <span style="font-size:8px;opacity:.6">IWM</span></div><div class="kpi-value" id="idx-iwm-val">â€”</div><div class="kpi-delta" id="idx-iwm-delta" style="color:var(--muted)">fetching...</div></div>
    <div class="kpi"><div class="kpi-bar" id="bar-vix" style="background:var(--amber);width:30%"></div><div class="kpi-label">VIX</div><div class="kpi-value" id="idx-vix-val">â€”</div><div class="kpi-delta" id="idx-vix-delta" style="color:var(--muted)">fetching...</div></div>
    <div class="kpi"><div class="kpi-bar" style="background:var(--navy);width:70%"></div><div class="kpi-label">10-Yr Treasury</div><div class="kpi-value" id="idx-10yr-val">4.42%</div><div class="kpi-delta" id="idx-10yr-delta" style="color:var(--muted)">add FRED key</div></div>
    <div class="kpi" id="signal-alpha-kpi"><div class="kpi-bar" style="background:var(--blue-lt);width:65%"></div><div class="kpi-label">ATLAS Signal Alpha</div><div class="kpi-value">+11.4%</div><div class="kpi-delta up">vs benchmark 12mo</div></div>
  </div>
  <div class="g2 mb14">
    <div class="card">
      <div class="card-hd"><div class="card-title">Sector Performance vs. S&amp;P 500 Benchmark</div><div class="card-sub">Signal-weighted estimated 12-mo forward return differential Â· <span style="color:var(--amber);font-weight:600">Signal-weighted estimate Â· Not real-time</span></div></div>
      <div id="sector-perf-container">
        <div class="sector-row"><div class="sector-name" style="width:130px">Defense</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="95%"></div></div><div class="sector-perf up">+12.8%</div></div>
        <div class="sector-row"><div class="sector-name" style="width:130px">Energy</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="88%"></div></div><div class="sector-perf up">+11.4%</div></div>
        <div class="sector-row"><div class="sector-name" style="width:130px">Technology</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="80%"></div></div><div class="sector-perf up">+9.2%</div></div>
        <div class="sector-row"><div class="sector-name" style="width:130px">Critical Minerals</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="72%"></div></div><div class="sector-perf up">+8.1%</div></div>
        <div class="sector-row"><div class="sector-name" style="width:130px">Cyber Security</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="68%"></div></div><div class="sector-perf up">+7.4%</div></div>
        <div class="sector-row"><div class="sector-name" style="width:130px">MedTech</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="62%"></div></div><div class="sector-perf up">+6.1%</div></div>
        <div class="sector-row"><div class="sector-name" style="width:130px">Health Care</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="55%"></div></div><div class="sector-perf up">+5.1%</div></div>
        <div class="sector-row"><div class="sector-name" style="width:130px">Financials</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="42%"></div></div><div class="sector-perf up">+3.4%</div></div>
        <div class="sector-row"><div class="sector-name" style="width:130px">Clean Energy</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="32%"></div></div><div class="sector-perf up">+2.8%</div></div>
        <div class="sector-row"><div class="sector-name" style="width:130px">Consumer Disc.</div><div class="sector-track"><div class="sector-fill sf-neu" data-w="20%"></div></div><div class="sector-perf" style="color:var(--muted)">+0.4%</div></div>
        <div class="sector-row"><div class="sector-name" style="width:130px">Pharma</div><div class="sector-track"><div class="sector-fill sf-neg" data-w="42%"></div></div><div class="sector-perf dn">âˆ’3.4%</div></div>
        <div class="sector-row"><div class="sector-name" style="width:130px">China-Exposed</div><div class="sector-track"><div class="sector-fill sf-neg" data-w="60%"></div></div><div class="sector-perf dn">âˆ’5.1%</div></div>
      </div>
      <div class="footnote">Signal-weighted estimates incorporate insider flow, legislative impact scores, 13F positioning changes, and sector seasonality. Forward-looking estimates only.</div>
    </div>
    <div class="col-stack">
      <div class="card">
        <div class="card-hd"><div class="card-title">Industry Strength Matrix</div><div class="card-sub">ATLAS composite score â€” all signal sources combined</div></div>
        <div class="ind-matrix" style="border-top:none">
          <div class="ind-cell ic-bull"><div class="ind-name">Defense Prime</div><div class="ind-score">+8.4</div><div class="ind-lbl">Strong</div></div>
          <div class="ind-cell ic-bull"><div class="ind-name">AI Compute</div><div class="ind-score">+7.6</div><div class="ind-lbl">Strong</div></div>
          <div class="ind-cell ic-bull"><div class="ind-name">Copper</div><div class="ind-score">+6.8</div><div class="ind-lbl">Bull</div></div>
          <div class="ind-cell ic-bull"><div class="ind-name">E&amp;P Energy</div><div class="ind-score">+6.4</div><div class="ind-lbl">Bull</div></div>
          <div class="ind-cell ic-bull"><div class="ind-name">Cyber Sec.</div><div class="ind-score">+6.2</div><div class="ind-lbl">Bull</div></div>
          <div class="ind-cell ic-bull"><div class="ind-name">Aerospace</div><div class="ind-score">+5.1</div><div class="ind-lbl">Bull</div></div>
          <div class="ind-cell ic-bull"><div class="ind-name">MedTech</div><div class="ind-score">+4.8</div><div class="ind-lbl">Bull</div></div>
          <div class="ind-cell ic-bull"><div class="ind-name">Solar/Wind</div><div class="ind-score">+3.2</div><div class="ind-lbl">Lean Bull</div></div>
          <div class="ind-cell ic-neu"><div class="ind-name">Retail Bank</div><div class="ind-score">+0.8</div><div class="ind-lbl">Neutral</div></div>
          <div class="ind-cell ic-neu"><div class="ind-name">Insurance</div><div class="ind-score">+0.3</div><div class="ind-lbl">Neutral</div></div>
          <div class="ind-cell ic-bear"><div class="ind-name">Large Pharma</div><div class="ind-score">âˆ’3.4</div><div class="ind-lbl">Bear</div></div>
          <div class="ind-cell ic-bear"><div class="ind-name">China Tech</div><div class="ind-score">âˆ’5.6</div><div class="ind-lbl">Bear</div></div>
        </div>
      </div>
      <div class="card">
        <div class="card-hd"><div class="card-title">Market Breadth &amp; Sentiment</div><div class="card-sub"><span style="color:var(--amber);font-weight:600">Demo values Â· Market data source pending</span></div></div>
        <div style="padding:11px 13px;display:flex;flex-direction:column;gap:8px">
          <div style="display:flex;justify-content:space-between"><span style="font-size:11px;color:var(--text-s)">S&amp;P 500 above 200 DMA</span><span class="val up" style="font-family:var(--mono);font-size:12px">62%</span></div>
          <div style="display:flex;justify-content:space-between"><span style="font-size:11px;color:var(--text-s)">NYSE Advance / Decline</span><span class="val up" style="font-family:var(--mono);font-size:12px">1.8 : 1</span></div>
          <div style="display:flex;justify-content:space-between"><span style="font-size:11px;color:var(--text-s)">52-week highs vs lows</span><span class="val up" style="font-family:var(--mono);font-size:12px">148 / 21</span></div>
          <div style="display:flex;justify-content:space-between"><span style="font-size:11px;color:var(--text-s)">CBOE Put / Call Ratio</span><span class="val am" style="font-family:var(--mono);font-size:12px">0.82</span></div>
          <div style="display:flex;justify-content:space-between"><span style="font-size:11px;color:var(--text-s)">AAII Bull / Bear</span><span class="val am" style="font-family:var(--mono);font-size:12px">42 / 31</span></div>
          <div style="display:flex;justify-content:space-between"><span style="font-size:11px;color:var(--text-s)">CNN Fear &amp; Greed Index</span><span class="val up" style="font-family:var(--mono);font-size:12px">58 Â· Greed</span></div>
          <div style="display:flex;justify-content:space-between"><span style="font-size:11px;color:var(--text-s)">Insider Buy / Sell Ratio (30d)</span><span class="val up" style="font-family:var(--mono);font-size:12px">0.44 Â· Elevated</span></div>
          <div style="display:flex;justify-content:space-between"><span style="font-size:11px;color:var(--text-s)">Credit Spread (HYâ€“IG)</span><span class="val am" style="font-family:var(--mono);font-size:12px">320bps Â· Tight</span></div>
        </div>
      </div>
    </div>
  </div>
</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: TRADE IDEAS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-ideas" class="page">
<div class="wrapper">
  <div class="acad-box">
    <div class="acad-stat"><div class="acad-num" id="ideas-active-count">0</div><div class="acad-lbl">Active Ideas</div></div>
    <div class="acad-stat"><div class="acad-num">3</div><div class="acad-lbl">Signal Hubs</div></div>
    <div class="acad-stat"><div class="acad-num" id="ideas-threshold-display">â‰¥ 65</div><div class="acad-lbl">Min Threshold</div></div>
    <div class="acad-stat"><div class="acad-num" id="ideas-max-score-box">â€”</div><div class="acad-lbl">Highest Score Now</div></div>
    <div class="acad-text">Ideas are auto-generated by the convergence engine when a ticker reaches Score â‰¥ 85 across two or more signal sources simultaneously. No hardcoded signals â€” every idea is live-verified against current congressional, EDGAR, and institutional data. <cite>ATLAS Signal Engine v3.1 Â· Live feed monitoring active</cite></div>
  </div>
  <div id="backtest-stats-bar" style="font-size:10px;color:var(--muted);padding:6px 12px;background:var(--card-bg);border-radius:4px;margin-bottom:16px;border:1px solid var(--border)">Backtest engine ready â€” runs Sundays 02:00 UTC</div>

  <!-- Score key -->
  <div class="card mb14" style="border-left:none">
    <div style="display:grid;grid-template-columns:repeat(5,1fr);gap:1px;background:var(--border)">
      <div style="background:var(--red-bg);padding:8px 12px;text-align:center"><div style="font-family:var(--mono);font-size:13px;font-weight:700;color:var(--red-lt)">86â€“100</div><div style="font-size:8.5px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--red-lt);margin-top:2px">Exceptional</div><div style="font-size:9px;color:var(--text-s);margin-top:3px">+16.2% avg Â· 74% win rate</div></div>
      <div style="background:var(--amber-bg);padding:8px 12px;text-align:center"><div style="font-family:var(--mono);font-size:13px;font-weight:700;color:var(--amber)">76â€“85</div><div style="font-size:8.5px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--amber);margin-top:2px">Strong</div><div style="font-size:9px;color:var(--text-s);margin-top:3px">+11.8% avg Â· 68% win rate</div></div>
      <div style="background:var(--blue-pale);padding:8px 12px;text-align:center"><div style="font-family:var(--mono);font-size:13px;font-weight:700;color:var(--blue-lt)">66â€“75</div><div style="font-size:8.5px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--blue-lt);margin-top:2px">Notable</div><div style="font-size:9px;color:var(--text-s);margin-top:3px">+7.4% avg Â· 61% win rate</div></div>
      <div style="background:var(--surface2);padding:8px 12px;text-align:center"><div style="font-family:var(--mono);font-size:13px;font-weight:700;color:var(--muted)">51â€“65</div><div style="font-size:8.5px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--muted);margin-top:2px">Watch</div><div style="font-size:9px;color:var(--text-s);margin-top:3px">+3.1% avg Â· 54% win rate</div></div>
      <div style="background:var(--surface2);padding:8px 12px;text-align:center"><div style="font-family:var(--mono);font-size:13px;font-weight:700;color:var(--border)">0â€“50</div><div style="font-size:8.5px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--border);margin-top:2px">Noise</div><div style="font-size:9px;color:var(--text-s);margin-top:3px">+0.4% avg Â· 51% win rate</div></div>
    </div>
  </div>

  <!-- Filter bars -->
  <div style="background:var(--surface2);border:1px solid var(--border);padding:10px 14px;margin-bottom:10px;display:flex;flex-direction:column;gap:8px">
    <div class="filter-bar"><span class="filter-lbl">Strength:</span>
      <button class="fbtn active" id="fs-all" onclick="filterIdeas({strength:'all'})">All</button>
      <button class="fbtn" id="fs-exc" onclick="filterIdeas({strength:'exc'})">Exceptional â‰¥86</button>
      <button class="fbtn" id="fs-str" onclick="filterIdeas({strength:'str'})">Strong 76â€“85</button>
      <button class="fbtn" id="fs-not" onclick="filterIdeas({strength:'not'})">Notable 65â€“75</button>
    </div>
    <div class="filter-bar"><span class="filter-lbl">Direction:</span>
      <button class="fbtn active" id="fd-all" onclick="filterIdeas({dir:'all'})">All</button>
      <button class="fbtn" id="fd-long" onclick="filterIdeas({dir:'long'})">Long Only</button>
      <button class="fbtn" id="fd-short" onclick="filterIdeas({dir:'short'})">Short / Bearish</button>
    </div>
    <div class="filter-bar"><span class="filter-lbl">Horizon:</span>
      <button class="fbtn active" id="fh-all" onclick="filterIdeas({horizon:'all'})">All</button>
      <button class="fbtn" id="fh-st" onclick="filterIdeas({horizon:'st'})">&lt;3 Months</button>
      <button class="fbtn" id="fh-mt" onclick="filterIdeas({horizon:'mt'})">3â€“9 Months</button>
      <button class="fbtn" id="fh-lt" onclick="filterIdeas({horizon:'lt'})">&gt;9 Months</button>
    </div>
    <div class="filter-bar"><span class="filter-lbl">Expected Move:</span>
      <button class="fbtn active" id="fm-all" onclick="filterIdeas({move:'all'})">All</button>
      <button class="fbtn" id="fm-m20" onclick="filterIdeas({move:'m20'})">&gt;20%</button>
      <button class="fbtn" id="fm-m30" onclick="filterIdeas({move:'m30'})">&gt;30%</button>
      <button class="fbtn" id="fm-m50" onclick="filterIdeas({move:'m50'})">&gt;50%</button>
      <button class="fbtn" id="fm-multi" onclick="filterIdeas({move:'multi'})">Multi-Source Only</button>
    </div>
  </div>

  <div id="idea-cards-container">
    <div style="padding:32px 20px;text-align:center;color:var(--muted)">
      <div style="font-size:22px;margin-bottom:8px">&#x1F4E1;</div>
      <div style="font-size:13px;font-weight:600;color:var(--text-s);margin-bottom:6px">No signals above threshold</div>
      <div style="font-size:11px;line-height:1.7">
        Convergence engine is monitoring live congressional, EDGAR, and institutional feeds.<br>
        Trade ideas are generated automatically when a ticker reaches Score &#x2265; 85<br>
        across two or more signal sources simultaneously.
      </div>
      <div style="margin-top:12px;font-size:10px;color:var(--text-f)">
        Current highest live score: <span id="ideas-max-score">&#x2014;</span> &middot;
        Threshold for idea generation: 85
      </div>
    </div>
  </div>
</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PAGE: ALERTS & SMS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-alerts" class="page">
<div class="wrapper">
  <div class="g2 mb14">
    <div>
      <div class="sec-hd mb14"><div class="sec-title">Alert Configuration</div><div class="sec-sub">SMS Â· Email Â· In-App Push Â· Twilio Integration</div></div>
      <div class="sms-card mb14">
        <div class="sms-title">Real-Time SMS Alerts via Twilio</div>
        <div class="sms-sub">ATLAS delivers real-time SMS for high-conviction signal events â€” cluster detections, entry points reached, bill vote outcomes, new exceptional scores. Setup takes 5 minutes with your Twilio account. Latency: ~60â€“90 seconds from SEC EDGAR Form 4 processing.</div>
        <div class="sms-steps">
          <div class="sms-step"><div class="sms-snum">01</div><div class="sms-stitle">Create Twilio Account</div><div class="sms-sdesc">Sign up at twilio.com. Get your Account SID, Auth Token, and a free trial phone number from the Console Dashboard.</div><span class="sms-scode">console.twilio.com â†’ Account Info</span></div>
          <div class="sms-step"><div class="sms-snum">02</div><div class="sms-stitle">Configure ATLAS API</div><div class="sms-sdesc">Enter your Twilio credentials and destination number below. ATLAS uses Twilio REST API to push SMS on qualified signal events.</div><span class="sms-scode">POST /2010-04-01/Accounts/{SID}/Messages.json</span></div>
          <div class="sms-step"><div class="sms-snum">03</div><div class="sms-stitle">Set Alert Thresholds</div><div class="sms-sdesc">Define which events trigger SMS. Recommended: Score â‰¥85, Cluster detected, Bill vote within 48hrs, Entry price touched.</div><span class="sms-scode">Atlas Alert Engine Â· threshold.config</span></div>
          <div class="sms-step"><div class="sms-snum">04</div><div class="sms-stitle">Test &amp; Activate</div><div class="sms-sdesc">Click "Send Test SMS" to verify delivery. Once confirmed, activate live monitoring. ATLAS polls SEC EDGAR every 90 seconds.</div><span class="sms-scode">Latency: 60â€“90 sec from EDGAR filing</span></div>
        </div>
        <div class="sms-row">
          <input class="sms-input" type="tel" placeholder="Mobile number (+1 212 555 0100)" id="sms-phone">
          <input class="sms-input" type="text" placeholder="Twilio Account SID (optional)" id="sms-sid">
          <button class="sms-btn" onclick="testSMS()">Send Test SMS</button>
          <button class="sms-btn sec" onclick="saveSMS()">Save &amp; Activate</button>
        </div>
      </div>
      <div class="card mb14">
        <div class="card-hd"><div class="card-title">Alert Threshold Configuration</div><div class="card-sub">Toggle per channel</div></div>
        <div class="tbl-wrap" style="max-height:280px">
          <table class="tbl">
            <thead><tr><th>Alert Type</th><th>Trigger Condition</th><th class="c">SMS</th><th class="c">Push</th><th class="c">Email</th></tr></thead>
            <tbody>
              <tr><td style="font-size:11.5px;font-weight:600">New Exceptional Signal</td><td style="font-size:10.5px;color:var(--text-s)">Composite score â‰¥ 86</td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox" checked></td></tr>
              <tr><td style="font-size:11.5px;font-weight:600">Cluster Event Detected</td><td style="font-size:10.5px;color:var(--text-s)">3+ insiders / members buying same security within 72hr</td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox" checked></td></tr>
              <tr><td style="font-size:11.5px;font-weight:600">Bill Vote Imminent</td><td style="font-size:10.5px;color:var(--text-s)">Market-impact bill vote within 48 hours</td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox" checked></td></tr>
              <tr><td style="font-size:11.5px;font-weight:600">Entry Price Touched</td><td style="font-size:10.5px;color:var(--text-s)">Tracked idea enters defined entry zone</td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox"></td></tr>
              <tr><td style="font-size:11.5px;font-weight:600">Stop Level Approached</td><td style="font-size:10.5px;color:var(--text-s)">Active position within 2% of stop loss level</td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox" checked></td></tr>
              <tr><td style="font-size:11.5px;font-weight:600">CEO Exit Signal</td><td style="font-size:10.5px;color:var(--text-s)">Discretionary sell, no 10b5-1, score â‰¤ âˆ’70</td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox" checked></td></tr>
              <tr><td style="font-size:11.5px;font-weight:600">Berkshire / Druckenmiller 13F</td><td style="font-size:10.5px;color:var(--text-s)">New position or major conviction change</td><td class="c"><input type="checkbox"></td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox" checked></td></tr>
              <tr><td style="font-size:11.5px;font-weight:600">Dark Pool Sweep Alert</td><td style="font-size:10.5px;color:var(--text-s)">Block print â‰¥$2M, OTM â‰¥5%, â‰¤60 days expiry</td><td class="c"><input type="checkbox"></td><td class="c"><input type="checkbox" checked></td><td class="c"><input type="checkbox"></td></tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="sec-hd" style="margin-top:16px;margin-bottom:12px"><div class="sec-title">Sample SMS Previews</div><div class="sec-sub">What you receive on your mobile</div></div>
      <div class="g3">
        <div class="card"><div class="card-hd"><div class="card-title" style="color:var(--red-lt)">ðŸ”´ Exceptional Signal</div></div><div style="padding:10px 12px;font-family:var(--mono);font-size:9.5px;color:var(--text-s);line-height:1.75;background:var(--surface2);margin:0 12px 12px;border:1px solid var(--border-s)">ATLAS ðŸ”´ SCORE 94<br>TMDX Â· CEO $4.2M buy<br>No 10b5-1 Â· Post âˆ’28%<br>Entry: $126â€“$140<br>Target: $168â€“$195 Â· Stop: $114<br>Horizon: 6â€“12mo<br>â†’ atlas/ideas</div></div>
        <div class="card"><div class="card-hd"><div class="card-title" style="color:var(--amber)">ðŸŸ¡ Bill Vote Alert</div></div><div style="padding:10px 12px;font-family:var(--mono);font-size:9.5px;color:var(--text-s);line-height:1.75;background:var(--surface2);margin:0 12px 12px;border:1px solid var(--border-s)">ATLAS ðŸŸ¡ BILL VOTE 48H<br>HR 7821 AI Infrastructure<br>Probability: 78%<br>NVDA in entry $190<br>Zone: $182â€“$198<br>Vote: Feb 25, 2026<br>â†’ atlas/congress</div></div>
        <div class="card"><div class="card-hd"><div class="card-title" style="color:var(--purple)">ðŸŸ£ Cluster Detected</div></div><div style="padding:10px 12px;font-family:var(--mono);font-size:9.5px;color:var(--text-s);line-height:1.75;background:var(--surface2);margin:0 12px 12px;border:1px solid var(--border-s)">ATLAS ðŸŸ£ CLUSTER<br>5 Armed Svcs members<br>RTX/LMT/NOC/BA/CACI<br>72hr Â· 94% cmte corr.<br>Play: RTX $198â€“$208<br>or ITA ETF $235â€“$250<br>â†’ atlas/signals</div></div>
      </div>
    </div>
    <div>
      <div class="sec-hd mb14">
        <div class="sec-title">Notification Center</div>
        <div class="sec-sub" id="notif-cnt-lbl">0 unread</div>
        <div class="sec-action" onclick="clearNotifs()">Mark all read</div>
      </div>
      <div id="notif-list">
        <div id="notif-empty" style="padding:20px;text-align:center;color:var(--muted);font-size:11px">
          <span class="live-dot" style="display:inline-block;margin-right:6px"></span>
          Monitoring live signals â€” notifications appear when thresholds are crossed
        </div>
      </div>
      <div style="margin-top:12px;display:flex;gap:8px">
        <button class="sms-btn" style="background:var(--navy)" onclick="simulateAlert()">âš¡ Simulate Live Alert</button>
        <button class="sms-btn sec" style="background:var(--surface2);color:var(--navy);border:1px solid var(--border)" onclick="goPage('ideas',document.querySelector('.nav-item:nth-child(6)'))">View Trade Ideas â†’</button>
      </div>
    </div>
  </div>
</div>
</div>

<div class="disclaimer"><strong>Disclosures:</strong> ATLAS aggregates public data from SEC EDGAR Form 4, STOCK Act disclosures, Congress.gov, SEC 13F filings, and FINRA ATS data. Signal scores are proprietary quantitative models â€” not investment recommendations. Past signal performance does not guarantee future returns. Nothing on this platform constitutes investment advice. Designed for qualified institutional investors only.</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ATLAS LIVE DATA ENGINE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

var FINNHUB_KEY  = 'd6dnud9r01qm89pkai30d6dnud9r01qm89pkai3g';
var QUIVER_KEY   = '3a0eefe56ae3fc614d3e49b2d5f732ae60df2015'; // QuiverQuant API token
var FRED_KEY     = '71a0b94ed47b56a81f405947f88d08aa'; // FRED API â€” 10yr Treasury yield (DGS10)

// â”€â”€ ACCURATE PRICES as of Feb 22, 2026 (sourced live) â”€â”€
// Entry zones, targets & stops recalculated from CURRENT prices
var TRACKED = {
  RTX:  {price:205.28, entryLo:198, entryHi:208, target1:232, target2:252, stop:188, dir:'long',  sigDate:'2026-02-18', note:'Armed Svcs cluster Â· SB 1882'},
  NVDA: {price:190.00, entryLo:182, entryHi:198, target1:228, target2:255, stop:168, dir:'long',  sigDate:'2026-02-17', note:'AI Subcommittee Â· Druckenmiller Â· HR 7821'},
  OXY:  {price:51.70,  entryLo:48,  entryHi:54,  target1:62,  target2:70,  stop:44,  dir:'long',  sigDate:'2026-02-17', note:'CEO cluster Â· Berkshire Â· Third Point'},
  TMDX: {price:135.50, entryLo:126, entryHi:140, target1:168, target2:195, stop:114, dir:'long',  sigDate:'2026-02-19', note:'CEO $4.2M Â· 4/4 accuracy Â· NOP catalyst'},
  FCX:  {price:64.45,  entryLo:60,  entryHi:66,  target1:76,  target2:88,  stop:55,  dir:'long',  sigDate:'2026-02-12', note:'Nat. Resources buy Â· HR 6419 Mar 17'},
  ITA:  {price:243.65, entryLo:235, entryHi:250, target1:272, target2:295, stop:220, dir:'long',  sigDate:'2026-02-18', note:'Defense cluster Â· SB 1882 ETF play Â· SIGNAL STALE â€” original entry $155â€“165, price ran to $243'},
  PFE:  {price:26.65,  entryLo:25,  entryHi:28,  target1:22,  target2:19,  stop:31,  dir:'short', sigDate:'2026-02-09', note:'Dual-source bear Â· SB 2241 Â· Inst. exits'},
  TSM:  {price:370.54, entryLo:355, entryHi:378, target1:320, target2:290, stop:400, dir:'short', sigDate:'2026-02-10', note:'Foreign Affairs full exit Â· Taiwan risk'},
  META: {price:648.00, entryLo:620, entryHi:660, target1:740, target2:820, stop:578, dir:'long',  sigDate:'2026-02-18', note:'Dir. Sandberg $19.4M Â· Tepper +$1.2B'},
  WFRD: {price:104.50, entryLo:98,  entryHi:108, target1:125, target2:145, stop:88,  dir:'long',  sigDate:'2026-02-18', note:'CEO+CFO cluster Â· 52-wk low Â· SIGNAL SUSPENDED â€” original price data was incorrect, awaiting new valid signal'},
  SMPL: {price:33.62,  entryLo:30,  entryHi:34,  target1:26,  target2:22,  stop:37,  dir:'short', sigDate:'2026-02-16', note:'CEO 38% exit Â· no plan'}
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DYNAMIC SCORING WEIGHTS â€” loaded from data/optimal_weights.json
// Falls back to hardcoded defaults if file not found
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var SCORE_WEIGHTS = null;
var SCORE_THRESHOLD = 65;  // default until backtest runs

// Bill data for Congress tracking
var BILLS = [
  {id:'HR7821', title:'American AI Infrastructure Act', chamber:'house', congress:119, status:'Floor Vote', date:'2026-02-25', impactTickers:['NVDA','AMD','SMCI','MSFT']},
  {id:'SB1882', title:'National Defense Modernization Act', chamber:'senate', congress:119, status:'Armed Services Markup', date:'2026-03-03', impactTickers:['RTX','LMT','NOC','BA','ITA']},
  {id:'SB2241', title:'Drug Price Negotiation Expansion Act', chamber:'senate', congress:119, status:'Committee Vote', date:'2026-03-10', impactTickers:['PFE','MRK','ABBV']},
  {id:'HR6419', title:'Critical Minerals & Mining Security Act', chamber:'house', congress:119, status:'Floor Vote', date:'2026-03-17', impactTickers:['FCX','MP','ALB','LTHM']},
  {id:'SB3310', title:'Clean Energy Investment Act', chamber:'senate', congress:119, status:'Energy Committee Hearing', date:'2026-04-01', impactTickers:['ENPH','NEE','FSLR']}
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TICKER â†’ SECTOR MAP (client-side, extended by data/sector_map.json when available)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var SECTOR_MAP = {
  // Defense & Aerospace
  RTX:'Defense',LMT:'Defense',NOC:'Defense',BA:'Defense',GD:'Defense',HII:'Defense',
  LHX:'Defense',ITA:'Defense',KTOS:'Defense',
  // Technology & AI
  NVDA:'Technology',AMD:'Technology',SMCI:'Technology',MSFT:'Technology',AAPL:'Technology',
  GOOGL:'Technology',GOOG:'Technology',META:'Technology',INTC:'Technology',AVGO:'Technology',
  QCOM:'Technology',TSM:'Technology',MU:'Technology',MRVL:'Technology',ARM:'Technology',
  // Energy
  OXY:'Energy',XOM:'Energy',CVX:'Energy',COP:'Energy',EOG:'Energy',DVN:'Energy',
  FANG:'Energy',HAL:'Energy',SLB:'Energy',WFRD:'Energy',
  ENPH:'Energy',NEE:'Energy',FSLR:'Energy',
  // Mining & Materials
  FCX:'Mining',MP:'Mining',ALB:'Mining',LTHM:'Mining',NEM:'Mining',AA:'Mining',
  // Health Care
  UNH:'Health Care',JNJ:'Health Care',ABT:'Health Care',TMO:'Health Care',TMDX:'Health Care',
  // Pharma
  PFE:'Pharma',MRK:'Pharma',ABBV:'Pharma',LLY:'Pharma',BMY:'Pharma',AMGN:'Pharma',
  // Financial
  JPM:'Financials',GS:'Financials',MS:'Financials',BAC:'Financials',C:'Financials',
  BLK:'Financials',SCHW:'Financials',
  // Consumer
  SMPL:'Consumer',COST:'Consumer',WMT:'Consumer',TGT:'Consumer',
  // Real Estate
  O:'Real Estate',AMT:'Real Estate',PLD:'Real Estate'
};

// Try to load extended sector map from data pipeline
(function(){
  fetch('/data/sector_map.json')
    .then(function(r){if(!r.ok)throw new Error();return r.json();})
    .then(function(map){
      Object.keys(map).forEach(function(t){
        if(!SECTOR_MAP[t]) SECTOR_MAP[t]=map[t];
      });
    })
    .catch(function(){/* no extended map, using built-in */});
})();

// â”€â”€ State â”€â”€
var iF={strength:'all',dir:'all',horizon:'all',move:'all'};
var notifCnt=5;
var priceCache={};
var priceRefreshInterval=null;
// Live feed caches â€” populated async; used by scoring engine
var congData=[];  // congressional trades from QuiverQuant
var edgarData=[]; // EDGAR Form 4 filings from fetch_data.py

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CLOCK
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function tick(){
  var now=new Date();
  var est=new Date(now.toLocaleString('en-US',{timeZone:'America/New_York'}));
  document.getElementById('clock').textContent=String(est.getHours()).padStart(2,'0')+':'+String(est.getMinutes()).padStart(2,'0');
}
setInterval(tick,20000); tick();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BILL COUNTDOWN TIMERS â€” computed from today's date
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function updateCountdowns(){
  var months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  var now=new Date();
  now.setHours(0,0,0,0);

  // Update all [data-bill-date] elements in the legislative calendar
  document.querySelectorAll('[data-bill-date]').forEach(function(el){
    var target=new Date(el.getAttribute('data-bill-date')+'T00:00:00');
    var days=Math.round((target-now)/86400000);
    var dateStr=months[target.getMonth()]+' '+target.getDate()+', '+target.getFullYear();
    if(days<0){
      el.textContent=dateStr+' â€” PASSED';
      el.style.color='var(--muted)';
    } else if(days===0){
      el.textContent=dateStr+' â€” TODAY';
      el.style.color='var(--red-lt)';
    } else if(days<=3){
      el.textContent=dateStr+' â€” '+days+' day'+(days===1?'':'s');
      el.style.color='var(--red-lt)';
    } else if(days<=14){
      el.textContent=dateStr+' â€” '+days+' days';
      el.style.color='var(--amber)';
    } else {
      el.textContent=dateStr+' â€” '+days+' days';
    }
  });

  // NVDA card vote date (HR 7821)
  var nvdaDate=new Date('2026-02-25T00:00:00');
  var nvdaDays=Math.round((nvdaDate-now)/86400000);
  var nvdaVal=document.getElementById('nvda-vote-val');
  var nvdaLbl=document.getElementById('nvda-vote-lbl');
  var nvdaRrVal=document.getElementById('nvda-vote-rr-val');
  var nvdaRrSub=document.getElementById('nvda-vote-rr-sub');
  if(nvdaVal){
    if(nvdaDays<0){ nvdaVal.textContent='Feb 25'; nvdaVal.style.color='var(--muted)'; }
    else if(nvdaDays===0){ nvdaVal.textContent='TODAY'; nvdaVal.style.color='var(--red-lt)'; }
    else { nvdaVal.textContent='Feb 25'; }
  }
  if(nvdaLbl){
    if(nvdaDays<0) nvdaLbl.textContent='Vote (Passed)';
    else if(nvdaDays===0) nvdaLbl.textContent='Vote â€” Today';
    else nvdaLbl.textContent='Vote â€” '+nvdaDays+' Day'+(nvdaDays===1?'':'s');
  }
  if(nvdaRrVal){
    if(nvdaDays<0){ nvdaRrVal.textContent='Feb 25 (Passed)'; nvdaRrVal.style.color='var(--muted)'; }
    else if(nvdaDays===0){ nvdaRrVal.textContent='Today âš¡'; nvdaRrVal.style.color='var(--red-lt)'; }
    else { nvdaRrVal.textContent='Feb 25 âš¡'; }
  }
  if(nvdaRrSub){
    if(nvdaDays<0) nvdaRrSub.textContent='Vote date passed';
    else if(nvdaDays===0) nvdaRrSub.textContent='Act today';
    else nvdaRrSub.textContent=nvdaDays+' day'+(nvdaDays===1?'':'s')+' â€” act now';
  }
}
updateCountdowns();
setInterval(updateCountdowns, 3600000); // refresh hourly

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FINNHUB LIVE PRICES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function fmtPrice(p){return p>=1000?'$'+p.toFixed(0):'$'+p.toFixed(2);}
function fmtChg(c,pct){
  var sign=c>=0?'+':'';
  return sign+c.toFixed(2)+' ('+sign+pct.toFixed(2)+'%)';
}
// Format score as integer (whole number) â€” all scores display as 0-100 integers
function fmtScore(s){return Math.round(s);}
// Format percentage to max 2 decimal places, trimming trailing zeros
function fmtPct(p){var v=parseFloat(p.toFixed(2));return (v>=0?'+':'')+v+'%';}

// â”€â”€ Build priceCache immediately from hardcoded TRACKED data â”€â”€
// This ensures prices show on load with zero API dependency.
// The live fetch below will OVERWRITE with real-time data if successful.
(function seedPriceCache(){
  Object.keys(TRACKED).forEach(function(t){
    var d=TRACKED[t];
    priceCache[t]={price:d.price, change:0, changePct:0, source:'hardcoded', ts:Date.now()};
  });
})();

function fetchPrice(ticker, cb){
  // Finnhub works fine when served over HTTP (Vercel/localhost).
  // When opened as a local file:// it is blocked by browser CORS.
  // We try it anyway â€” if it works, great; if not, hardcoded prices already show.
  var url='https://finnhub.io/api/v1/quote?symbol='+ticker+'&token='+FINNHUB_KEY;
  fetch(url, {mode:'cors'})
    .then(function(r){
      if(!r.ok) throw new Error('HTTP '+r.status);
      return r.json();
    })
    .then(function(d){
      if(d && d.c && d.c>0){
        priceCache[ticker]={
          price:d.c, open:d.o, high:d.h, low:d.l,
          prevClose:d.pc, change:d.d, changePct:d.dp,
          source:'finnhub', ts:Date.now()
        };
        if(cb) cb(ticker, priceCache[ticker]);
      }
    })
    .catch(function(){ /* silently fall back to hardcoded */ });
}

function updatePriceStrip(ticker, data){
  var el=document.getElementById('ps-'+ticker);
  if(!el) return;
  var priceEl=el.querySelector('.mds-price');
  if(!priceEl) return;
  var up=data.change>=0;
  priceEl.className='mds-price';
  priceEl.style.color=up?'#4ade80':'#f87171';
  var chgStr=data.source==='finnhub'?(up?'+':'')+data.changePct.toFixed(2)+'%':'';
  priceEl.textContent=fmtPrice(data.price)+(chgStr?' '+chgStr:'');
}

function updateIdeaCard(ticker, data){
  var cards=document.querySelectorAll('.idea-card[data-ticker="'+ticker+'"]');
  var info=TRACKED[ticker];
  if(!info) return;
  cards.forEach(function(card){
    var old=card.querySelector('.price-vs-zone');
    if(old) old.remove();
    var p=data.price;
    var status,cls,msg;
    if(info.dir==='long'){
      if(p>=info.entryLo && p<=info.entryHi){
        status='âœ… IN ENTRY ZONE'; cls='zb-in';
        msg='Price is within the entry zone â€” signal is currently actionable.';
      } else if(p>info.entryHi && p<info.entryHi*1.08){
        status='âš  SLIGHTLY ABOVE ZONE'; cls='zb-above';
        msg='Price moved just above entry zone. Consider scaling in on any pullback toward $'+info.entryHi+'.';
      } else if(p>=info.entryHi*1.08){
        status='â›” ZONE MISSED'; cls='zb-missed';
        msg='Price has moved well above the original entry zone. Wait for a pullback or reassess entry before acting.';
      } else {
        status='â†“ BELOW ENTRY ZONE'; cls='zb-in';
        msg='Price below entry zone â€” potentially even better entry. Confirm thesis still intact.';
      }
    } else {
      if(p>=info.entryLo && p<=info.entryHi){
        status='âœ… IN SHORT ZONE'; cls='zb-bear-ok';
        msg='Price is within the short entry zone â€” signal is actionable.';
      } else if(p<info.entryLo){
        status='â›” SHORT ZONE MISSED'; cls='zb-missed';
        msg='Price has already fallen below the short entry zone. The move may have started â€” reassess.';
      } else {
        status='â†‘ ABOVE SHORT ZONE'; cls='zb-above';
        msg='Price is above the short entry zone â€” potentially a better entry as it moves into zone.';
      }
    }
    var upsideT1=info.dir==='long'?((info.target1-p)/p*100):((p-info.target1)/p*100);
    var riskStop=info.dir==='long'?((p-info.stop)/p*100):((info.stop-p)/p*100);
    var chgCls=data.change>=0?'up':'dn';
    var srcLabel=data.source==='finnhub'?'Finnhub live':'Fallback price â€” not live';
    var chgDisplay=data.source==='finnhub'
      ?'<span class="pvz-change '+chgCls+'">'+fmtChg(data.change,data.changePct)+'</span>'
      :'<span style="font-size:9px;color:var(--muted);font-style:italic">Hardcoded Â· update via Finnhub when hosted</span>';
    // Format signal generated date
    var sigParts=info.sigDate.split('-');
    var sigMonths=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
    var sigDateFmt=sigMonths[parseInt(sigParts[1],10)-1]+' '+parseInt(sigParts[2],10)+', '+sigParts[0];
    var sigStamp='Signal generated '+sigDateFmt+' at '+fmtPrice(info.price);
    // P2.2 â€” Staleness: warn if signal is >30 days old
    var sigAge=(Date.now()-new Date(info.sigDate))/86400000;
    var staleNote=sigAge>30
      ?'<span style="font-size:9.5px;color:var(--red-lt);flex-basis:100%;margin-top:4px;font-weight:600">â° Signal is '+Math.floor(sigAge)+' days old â€” verify thesis still intact before acting.</span>'
      :'';
    // P2.3 â€” Computed convergence score from live feeds
    var sc=computeConvergenceScore(ticker);
    var scoreHtml='';
    if(sc.total>0){
      var congPart=sc.congress.count>0?' Congress <strong>+'+fmtScore(sc.congress.score)+'</strong> ('+sc.congress.count+' buys)':'';
      var edgarPart=sc.insider.count>0?' EDGAR <strong>+'+fmtScore(sc.insider.score)+'</strong> ('+sc.insider.count+' filings)':'';
      var boostPart=sc.boost>0?' <span style="color:var(--amber)">+'+fmtScore(sc.boost)+' convergence</span>':'';
      var totalCls=sc.total>=85?'var(--green)':sc.total>=65?'var(--blue-lt)':'var(--muted)';
      scoreHtml='<span style="font-size:9.5px;flex-basis:100%;margin-top:4px;border-top:1px solid var(--border-s);padding-top:4px">'
        +'âš¡ Live score: <strong style="color:'+totalCls+'">'+fmtScore(sc.total)+'</strong>'
        +congPart+edgarPart+boostPart+'</span>';
    }
    var div=document.createElement('div');
    div.className='price-vs-zone';
    div.innerHTML=
      '<span class="pvz-label">Current Price</span>'
      +'<span class="pvz-price">'+fmtPrice(p)+'</span>'
      +chgDisplay
      +'<span class="zone-badge '+cls+'">'+status+'</span>'
      +'<span style="font-size:9.5px;color:var(--muted);flex-basis:100%;margin-top:3px">'+msg+'</span>'
      +staleNote
      +'<span style="font-size:9.5px;color:var(--text-s)">To T1 <strong class="'+(upsideT1>0?'up':'dn')+'">'+(upsideT1>0?'+':'')+upsideT1.toFixed(1)+'%</strong></span>'
      +'<span style="font-size:9.5px;color:var(--text-s);margin-left:10px">Risk to stop: <strong class="dn">'+Math.abs(riskStop).toFixed(1)+'%</strong></span>'
      +'<span style="font-size:9.5px;color:var(--muted);margin-left:10px">Entry $'+info.entryLo+'â€“$'+info.entryHi+' Â· T1 $'+info.target1+' Â· Stop $'+info.stop+'</span>'
      +'<span style="font-size:8.5px;color:var(--text-f);flex-basis:100%;margin-top:2px;font-style:italic">ðŸ“ '+sigStamp+'</span>'
      +scoreHtml
      +'<span class="pvz-time">'+srcLabel+'</span>';
    var anchor=card.querySelector('.rr-block')||card.querySelector('.rn-body')||card.querySelector('.rn-ft');
    if(anchor) card.insertBefore(div, anchor);
    // P2.1 â€” Sync rr-block cells from TRACKED (single source of truth)
    // Only updates entry/target/stop cells; leaves catalyst/date/label cells alone.
    var rrMap={
      'Entry Zone':'$'+info.entryLo+'â€“$'+info.entryHi,
      'Entry':'$'+info.entryLo+'â€“$'+info.entryHi,
      'Short Entry':'$'+info.entryLo+'â€“$'+info.entryHi,
      'Target 1':'$'+info.target1,
      'Target 2':'$'+info.target2,
      'Targets':'$'+info.target1+' / $'+info.target2,
      'Cover Target':'$'+info.target1+' / $'+info.target2,
      'Stop Loss':'$'+info.stop,
      'Stop':'$'+info.stop,
      'Stop (cover)':'$'+info.stop
    };
    card.querySelectorAll('.rr-cell').forEach(function(cell){
      var lbl=cell.querySelector('.rr-lbl');
      var val=cell.querySelector('.rr-val');
      if(!lbl||!val) return;
      var t=lbl.textContent.trim();
      if(rrMap.hasOwnProperty(t)) val.textContent=rrMap[t];
    });
  });
}

function setDataDot(id, state){
  var dot=document.getElementById('dot-'+id);
  var lbl=document.getElementById('lbl-'+id);
  if(!dot) return;
  dot.className='dsb-dot dsb-'+state;
  if(lbl){
    var labels={finnhub:'Prices âœ“',edgar:'EDGAR âœ“',congress:'Congress âœ“'};
    var labelsWarn={finnhub:'Prices ~',edgar:'EDGAR ~',congress:'Congress ~'};
    var labelsErr={finnhub:'Prices âœ—',edgar:'EDGAR âœ—',congress:'Congress âœ—'};
    if(state==='ok') lbl.textContent=labels[id]||id;
    else if(state==='warn') lbl.textContent=labelsWarn[id]||id;
    else if(state==='err') lbl.textContent=labelsErr[id]||id;
  }
}

function refreshAllPrices(){
  var tickers=Object.keys(TRACKED);
  var liveCount=0;
  tickers.forEach(function(t, i){
    setTimeout(function(){
      fetchPrice(t, function(ticker, data){
        liveCount++;
        updatePriceStrip(ticker, data);
        updateIdeaCard(ticker, data);
        checkPriceAlert(ticker, data);
        if(liveCount===1){
          // First live price came back â€” mark as ok
          setDataDot('finnhub','ok');
          var el=document.getElementById('last-refresh');
          if(el) el.textContent='Live Â· '+new Date().toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',timeZone:'America/New_York'})+' EST';
        }
      });
    }, i*400);
  });
  // After all attempts, if none came back live, mark as hardcoded
  setTimeout(function(){
    if(liveCount===0) setDataDot('finnhub','warn');
  }, tickers.length*400+3000);
}

function checkPriceAlert(ticker, data){
  var info=TRACKED[ticker];
  if(!info) return;
  var p=data.price;
  var wasAlerted=sessionStorage.getItem('alert-zone-'+ticker);
  if(info.dir==='long' && p>=info.entryLo && p<=info.entryHi && !wasAlerted){
    sessionStorage.setItem('alert-zone-'+ticker,'1');
    showToast('âš¡ Entry Zone: '+ticker,ticker+' at '+fmtPrice(p)+' â€” inside entry zone '+fmtPrice(info.entryLo)+'â€“'+fmtPrice(info.entryHi),'alert',10000);
    addNotif('Entry Zone Reached: '+ticker,ticker+' is currently trading at '+fmtPrice(p)+', within the signal entry zone of '+fmtPrice(info.entryLo)+'â€“'+fmtPrice(info.entryHi));
  }
  if(info.dir==='short' && p>=info.entryLo && p<=info.entryHi && !wasAlerted){
    sessionStorage.setItem('alert-zone-'+ticker,'1');
    showToast('âš¡ Short Zone: '+ticker,ticker+' at '+fmtPrice(p)+' â€” inside short entry zone','alert',10000);
    addNotif('Short Entry Zone: '+ticker,ticker+' at '+fmtPrice(p)+' â€” within short entry zone '+fmtPrice(info.entryLo)+'â€“'+fmtPrice(info.entryHi));
  }
  // Stop approaching alert (within 3%)
  var stopDist=info.dir==='long'?((p-info.stop)/p):((info.stop-p)/p);
  var wasStopAlert=sessionStorage.getItem('alert-stop-'+ticker);
  if(stopDist<0.03 && stopDist>0 && !wasStopAlert){
    sessionStorage.setItem('alert-stop-'+ticker,'1');
    showToast('âš  Stop Approaching: '+ticker,ticker+' within 3% of stop level '+fmtPrice(info.stop)+'. Current: '+fmtPrice(p),'warn',12000);
    addNotif('Stop Level Alert: '+ticker,ticker+' at '+fmtPrice(p)+' is approaching the stop loss level of '+fmtPrice(info.stop)+'. Review position.');
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MARKET INDICES â€” live via Finnhub ETF proxies (SPY/QQQ/IWM/^VIX)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var INDEX_MAP=[
  {sym:'SPY',  valId:'idx-spy-val',  deltaId:'idx-spy-delta',  barId:'bar-spy',  isVix:false},
  {sym:'QQQ',  valId:'idx-qqq-val',  deltaId:'idx-qqq-delta',  barId:'bar-qqq',  isVix:false},
  {sym:'IWM',  valId:'idx-iwm-val',  deltaId:'idx-iwm-delta',  barId:'bar-iwm',  isVix:false},
  {sym:'^VIX', valId:'idx-vix-val',  deltaId:'idx-vix-delta',  barId:'bar-vix',  isVix:true }
];

function fetchMarketIndices(){
  INDEX_MAP.forEach(function(idx){
    var url='https://finnhub.io/api/v1/quote?symbol='+encodeURIComponent(idx.sym)+'&token='+FINNHUB_KEY;
    fetch(url)
      .then(function(r){return r.json();})
      .then(function(d){
        if(!d||!d.c||d.c<=0) return;
        var valEl=document.getElementById(idx.valId);
        var deltaEl=document.getElementById(idx.deltaId);
        var barEl=document.getElementById(idx.barId);
        if(!valEl||!deltaEl) return;
        var pct=d.dp||0;
        var up=pct>=0;
        // Show price
        valEl.textContent='$'+d.c.toFixed(2);
        // VIX: show level + volatility label instead of %
        if(idx.isVix){
          valEl.textContent=d.c.toFixed(2);
          var vixLabel=d.c<15?'Low volatility':d.c<20?'Moderate':d.c<25?'Elevated':'Fear zone';
          var vixCls=d.c<15?'up':d.c<20?'am':'dn';
          deltaEl.textContent=vixLabel;
          deltaEl.className='kpi-delta '+vixCls;
        } else {
          deltaEl.textContent=(up?'+':'')+pct.toFixed(2)+'% today';
          deltaEl.className='kpi-delta '+(up?'up':'dn');
        }
        if(barEl){
          barEl.style.background=idx.isVix?(d.c<20?'var(--green)':d.c<25?'var(--amber)':'var(--red-lt)'):(up?'var(--green)':'var(--red-lt)');
          barEl.style.width=Math.min(95,Math.max(5,50+(pct/3)*45))+'%';
        }
      })
      .catch(function(){/* keep placeholder */});
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONGRESSIONAL TRADES â€” QuiverQuant API (free tier)
// Register at quiverquant.com/quiverapi then set QUIVER_KEY above
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Shared render function for QuiverQuant congressional trade data
function renderCongressTrades(data){
  var tbody=document.querySelector('#cong-tbl tbody');
  if(!tbody||!data||!data.length) return;
  congData=data; // store full feed for scoring engine
  // QuiverQuant live endpoint uses TransactionDate; bulk endpoint uses Date
  var dateKey=data[0].TransactionDate?'TransactionDate':'Date';
  // QuiverQuant uses 'House' field (values: 'Representatives','Senate'); fallback to Chamber
  var chamberKey=data[0].House!==undefined?'House':'Chamber';
  var sorted=data.slice().sort(function(a,b){
    return new Date(b[dateKey])-new Date(a[dateKey]);
  }).slice(0,20);
  setDataDot('congress','ok');
  var html='';
  sorted.forEach(function(t,i){
    var tx=(t.Transaction||'').toLowerCase();
    var isBuy=tx.indexOf('purchase')>=0||tx.indexOf('buy')>=0;
    var isSell=tx.indexOf('sale')>=0||tx.indexOf('sell')>=0;
    var tagCls=isBuy?'t-buy':isSell?'t-sell':'t-opt';
    var tagLbl=isBuy?'Buy':isSell?'Sell':(t.Transaction||'Other');
    var party=t.Party||'';
    var member=(t.Representative||'Unknown').replace(/^(Rep\.|Sen\.)\s*/,'');
    var isSenate=(t[chamberKey]||'').toLowerCase().indexOf('senate')>=0;
    var memberTitle=(isSenate?'Sen.':'Rep.')+' '+member;
    var ticker=t.Ticker||'â€”';
    var dateVal=t[dateKey]||'';
    var score=0;
    if(isBuy) score+=30; else if(isSell) score-=30;
    var range=t.Range||'';
    if(range.indexOf('$250,001')>=0||range.indexOf('$500,001')>=0) score+=5;
    if(range.indexOf('$1,000,001')>=0) score+=10;
    var scoreDisp=score>0?'+'+score:score;
    html+='<tr data-cat="'+(isSenate?'senate':'house')+'">'
      +'<td style="font-size:10px;color:var(--muted)">'+(String(i+1).padStart(2,'0'))+'</td>'
      +'<td><div style="font-size:11.5px;font-weight:600">'+memberTitle+'</div>'
      +'<div class="sym-sub">'+party+(t.State?' Â· '+t.State:'')+'</div></td>'
      +'<td><div class="sym">'+ticker+'</div></td>'
      +'<td class="r"><span class="val '+(isBuy?'up':'dn')+'">'+range+'</span></td>'
      +'<td class="c"><span class="tag '+tagCls+'">'+tagLbl+'</span></td>'
      +'<td><div class="sus-row"><div class="sus-track"><div style="height:100%;width:'+(Math.abs(score))
        +'%;background:'+(score>0?'var(--blue-lt)':'var(--red-lt)')+'"></div></div>'
      +'<span class="val" style="font-size:11px;color:'+(score>0?'var(--blue-lt)':'var(--red-lt)')+'">'+scoreDisp+'</span></div></td>'
      +'<td><span class="sym-sub">'+(dateVal?dateVal.slice(5):'â€”')+'</span></td>'
      +'</tr>';
  });
  tbody.innerHTML=html;
  var monthStart=new Date(); monthStart.setDate(1); monthStart.setHours(0,0,0,0);
  var thisMonth=data.filter(function(t){return new Date(t[dateKey])>=monthStart;});
  var kpiEl=document.querySelector('#page-congress .kpi-value');
  if(kpiEl) kpiEl.textContent=thisMonth.length;
  // High Suspicion Trades: buys with score >= 30
  var suspicionEl=document.getElementById('kb-cong-suspicion');
  if(suspicionEl){
    var suspicionCount=data.filter(function(t){
      var tx=(t.Transaction||'').toLowerCase();
      return tx.indexOf('purchase')>=0||tx.indexOf('buy')>=0;
    }).length;
    suspicionEl.textContent=suspicionCount;
  }
  refreshConvergenceDisplays(); // recompute scores now that congress data is loaded
}

function fetchQuiverTrades(){
  var tbody=document.querySelector('#cong-tbl tbody');
  if(!tbody) return;

  // Try static file first (populated by scripts/fetch_data.py, no CORS issue)
  fetch('/data/congress_feed.json')
    .then(function(r){if(!r.ok)throw new Error(r.status);return r.json();})
    .then(function(d){
      if(d.trades&&d.trades.length){
        renderCongressTrades(d.trades);
        return;
      }
      // File empty â€” fall through to live API if key available
      if(QUIVER_KEY) fetchQuiverLive();
      else showQuiverNotice(tbody);
    })
    .catch(function(){
      if(QUIVER_KEY) fetchQuiverLive(); else showQuiverNotice(tbody);
    });
}

function showQuiverNotice(tbody){
  var notice=document.getElementById('quiver-notice');
  if(!notice){
    notice=document.createElement('tr');
    notice.id='quiver-notice';
    notice.innerHTML='<td colspan="7" style="padding:6px 12px;font-size:9px;color:var(--blue-lt);background:var(--blue-pale);text-align:center">'
      +'ðŸ“‹ <strong>Demo data below.</strong> Run scripts/fetch_data.py with QUIVER_KEY set for live congressional trades.</td>';
    tbody.insertBefore(notice, tbody.firstChild);
  }
}

function fetchQuiverLive(){
  // /beta/live/congresstrading â€” most recent transactions, no pagination needed
  var url='https://api.quiverquant.com/beta/live/congresstrading';
  fetch(url,{headers:{'Authorization':'Token '+QUIVER_KEY,'Accept':'application/json'}})
    .then(function(r){if(!r.ok)throw new Error(r.status);return r.json();})
    .then(function(data){
      if(data&&data.length) renderCongressTrades(data);
    })
    .catch(function(e){console.warn('QuiverQuant live error',e);});
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MARKET CONTEXT â€” VIX + 10-yr Treasury
// Primary: /data/market_data.json (generated by scripts/fetch_data.py)
// Fallback: FRED direct fetch (browser CORS, may fail on some networks)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

function applyMarketData(data){
  // 10-yr Treasury yield
  var t = data.treasury_10yr;
  if(t){
    var valEl=document.getElementById('idx-10yr-val');
    var deltaEl=document.getElementById('idx-10yr-delta');
    if(valEl) valEl.textContent=t.value.toFixed(2)+'%';
    if(deltaEl){
      if(t.change!=null){
        var bps=Math.round(t.change*100);
        deltaEl.textContent=(bps>=0?'+':'')+bps+'bps Â· '+t.date;
        deltaEl.style.color=bps>5?'var(--red-lt)':bps<-5?'var(--green)':'var(--muted)';
      } else {
        deltaEl.textContent=t.date||'FRED daily';
        deltaEl.style.color='var(--muted)';
      }
    }
  }
  // VIX â€” only fill if not yet populated by Finnhub live fetch
  var vx = data.vix;
  if(vx){
    var vixEl=document.getElementById('idx-vix-val');
    var vixDelta=document.getElementById('idx-vix-delta');
    var barEl=document.getElementById('bar-vix');
    if(vixEl&&(vixEl.textContent==='â€”'||vixEl.textContent.indexOf('fetching')>=0)){
      var v=vx.value;
      vixEl.textContent=v.toFixed(2);
      if(vixDelta){
        var vLbl=v<15?'Low volatility':v<20?'Moderate':v<25?'Elevated':'Fear zone';
        var vCls=v<15?'up':v<20?'am':'dn';
        vixDelta.textContent=vLbl+' Â· '+vx.date;
        vixDelta.className='kpi-delta '+vCls;
      }
      if(barEl){
        barEl.style.background=v<20?'var(--green)':v<25?'var(--amber)':'var(--red-lt)';
        barEl.style.width=Math.min(90,Math.max(10,(v/50)*90))+'%';
      }
    }
  }
}

function fetchMarketDataFile(){
  fetch('/data/market_data.json')
    .then(function(r){if(!r.ok)throw new Error(r.status);return r.json();})
    .then(function(data){
      applyMarketData(data);
    })
    .catch(function(){
      // Static file unavailable â€” fall back to direct FRED fetch
      fetchFredYield();
    });
}

function fetchFredYield(){
  if(!FRED_KEY) return;
  var base='https://api.stlouisfed.org/fred/series/observations?api_key='+FRED_KEY
    +'&limit=5&sort_order=desc&file_type=json&series_id=';

  // 10-yr Treasury yield
  fetch(base+'DGS10')
    .then(function(r){return r.json();})
    .then(function(data){
      var obs=(data.observations||[]).filter(function(o){return o.value!=='.'&&o.value!='';});
      if(!obs.length) return;
      var latest=obs[0]; var prev=obs[1]||null;
      var val=parseFloat(latest.value);
      var valEl=document.getElementById('idx-10yr-val');
      var deltaEl=document.getElementById('idx-10yr-delta');
      if(valEl) valEl.textContent=val.toFixed(2)+'%';
      if(deltaEl&&prev){
        var diff=val-parseFloat(prev.value);
        var bps=Math.round(diff*100);
        deltaEl.textContent=(bps>=0?'+':'')+bps+'bps Â· '+latest.date;
        deltaEl.style.color=bps>5?'var(--red-lt)':bps<-5?'var(--green)':'var(--muted)';
      } else if(deltaEl){
        deltaEl.textContent=latest.date; deltaEl.style.color='var(--muted)';
      }
    })
    .catch(function(){/* keep static */});

  // VIX (CBOE Volatility Index â€” daily, FRED VIXCLS series)
  // Used as fallback since Finnhub free tier doesn't support ^VIX
  fetch(base+'VIXCLS')
    .then(function(r){return r.json();})
    .then(function(data){
      var obs=(data.observations||[]).filter(function(o){return o.value!=='.'&&o.value!='';});
      if(!obs.length) return;
      var val=parseFloat(obs[0].value);
      var prev=obs[1]?parseFloat(obs[1].value):null;
      // Only update VIX if Finnhub didn't already populate it
      var vixEl=document.getElementById('idx-vix-val');
      if(!vixEl||vixEl.textContent!=='â€”') return; // Finnhub already populated
      vixEl.textContent=val.toFixed(2);
      var deltaEl=document.getElementById('idx-vix-delta');
      var barEl=document.getElementById('bar-vix');
      if(deltaEl){
        var vixLabel=val<15?'Low volatility':val<20?'Moderate':val<25?'Elevated':'Fear zone';
        var vixCls=val<15?'up':val<20?'am':'dn';
        deltaEl.textContent=vixLabel+' Â· daily';
        deltaEl.className='kpi-delta '+vixCls;
      }
      if(barEl){
        barEl.style.background=val<20?'var(--green)':val<25?'var(--amber)':'var(--red-lt)';
        barEl.style.width=Math.min(90,Math.max(10,(val/50)*90))+'%';
      }
    })
    .catch(function(){/* keep placeholder */});
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SEC EDGAR FORM 4 LIVE FEED
// Data populated by scripts/fetch_data.py â†’ data/edgar_feed.json
// GitHub Actions refreshes every 4 hours automatically
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var edgarLastFetch=null;

function fetchEdgarFeed(){
  // Primary: read from /data/edgar_feed.json (populated by Python script, no CORS issue)
  // EDGAR EFTS has no CORS headers â€” must be fetched server-side
  fetch('/data/edgar_feed.json')
    .then(function(r){if(!r.ok)throw new Error(r.status);return r.json();})
    .then(function(data){
      var filings=data.filings||[];
      if(filings.length===0){renderEdgarFallback();return;}
      edgarData=filings; // store for scoring engine
      edgarLastFetch=new Date(data.updated||Date.now());
      setDataDot('edgar','ok');
      var ago=Math.round((Date.now()-edgarLastFetch)/60000);
      document.getElementById('edgar-last-check').textContent=
        'SEC EDGAR Â· '+filings.length+' filings Â· Updated '+ago+'m ago';
      renderEdgarFeed(filings);
    })
    .catch(function(){renderEdgarFallback();});
}

function renderEdgarFeed(filings){
  var feed=document.getElementById('edgar-feed');
  if(!feed) return;
  if(!filings||filings.length===0){renderEdgarFallback();return;}

  var html='<div style="padding:4px 12px;font-size:8px;font-weight:600;letter-spacing:.05em;'
    +'color:var(--green);background:var(--green-bg);border-bottom:1px solid var(--border-s)">'
    +'âœ… LIVE Â· SEC EDGAR Form 4 Â· All companies Â· Refreshed every 4 hours</div>';

  filings.slice(0,20).forEach(function(f){
    var company=f.company||'Unknown';
    var insider=f.insider||'Unknown';
    var filed=f.date||'';
    var period=f.period||'';
    var ticker=f.ticker||'';
    var dir=f.direction||'';
    var title=f.title||'';
    var link=f.link||('https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&company='
      +encodeURIComponent(company)+'&type=4&owner=include&count=5');

    // Check if tracked
    var isTracked=ticker&&TRACKED[ticker];

    // Direction label
    var dirLbl='';
    if(dir==='buy') dirLbl='<span style="color:var(--green);font-weight:600">BUY</span>';
    else if(dir==='sell') dirLbl='<span style="color:var(--red-lt);font-weight:600">SELL</span>';
    else if(dir==='exercise') dirLbl='<span style="color:var(--muted)">Exercise</span>';
    else dirLbl='<span style="color:var(--muted)">Grant/Other</span>';

    // Value
    var valStr='';
    if(f.buy_value>0) valStr=fmtVal(f.buy_value);
    else if(f.sell_value>0) valStr=fmtVal(f.sell_value);

    // Fallback: first word of company name as mini-label when no ticker
    var tickerDisplay=ticker||(company?company.split(/[\s,]+/)[0].slice(0,6):'N/A');

    html+='<div class="edgar-feed-item'+(isTracked?' efi-new':(dir==='buy'?' efi-new':''))+'">'
      +'<div class="efi-ticker" style="min-width:38px;font-size:'+(ticker?'11px':'9px')+'">'+
        tickerDisplay+'</div>'
      +'<div class="efi-body">'
      +'<div class="efi-name" style="font-size:10.5px">'+insider
        +(title?' <span style="font-weight:400;color:var(--muted)">Â· '+title+'</span>':'')+'</div>'
      +'<div class="efi-detail">'+dirLbl+(valStr?' Â· '+valStr:'')
        +' <span style="color:var(--muted)">Â· '+company+'</span></div>'
      +'<div class="efi-time">'+(filed?filed+' Â· ':'')+
        '<a href="'+link+'" target="_blank" style="color:var(--blue-lt)">View filing â†’</a></div>'
      +'</div>'
      +(isTracked?'<span class="tag" style="background:var(--green-bg);color:var(--green);'
        +'flex-shrink:0;font-size:8px">Tracked</span>':'')
      +'</div>';
  });

  html+='<div style="padding:8px 12px;text-align:center">'
    +'<a href="https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&type=4&dateb=&owner=include&count=40&search_text=&action=getcompany" target="_blank" '
    +'style="font-size:10px;color:var(--blue-lt)">All recent Form 4 filings on SEC EDGAR â†’</a></div>';
  feed.innerHTML=html;
  renderInsiderTableLive(); // populate insider table with EDGAR data
  refreshConvergenceDisplays(); // recompute scores now that EDGAR data is loaded
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GROUP C4 â€” renderInsiderTableLive()
// Populates Insider page table from live EDGAR filings
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function fmtVal(n){
  if(!n||n<=0) return '';
  if(n>=1e6) return '$'+Math.round(n/1e5)/10+'M';
  if(n>=1e3) return '$'+Math.round(n/1e2)/10+'K';
  return '$'+Math.round(n);
}
function renderInsiderTableLive(){
  var tbody=document.querySelector('#ins-tbl tbody');
  if(!tbody) return;
  if(!edgarData.length){
    tbody.innerHTML='<tr><td colspan="7" style="padding:16px;text-align:center;color:var(--muted);font-size:11px">'
      +'Loading EDGAR Form 4 filings...</td></tr>';
    return;
  }
  // â”€â”€ Group filings by ticker (enriched) or company name (fallback) â”€â”€
  var byTicker={};
  edgarData.forEach(function(f){
    var t=f.ticker||(f.company?('~'+f.company.replace(/[^A-Za-z0-9]/g,'').slice(0,20)):'_NONE_');
    if(!byTicker[t]) byTicker[t]={ticker:f.ticker||'',company:f.company||'',filings:[],buyVal:0,sellVal:0,buyCount:0,sellCount:0,roles:[]};
    var grp=byTicker[t];
    grp.filings.push(f);
    grp.buyVal+=(f.buy_value||0);
    grp.sellVal+=(f.sell_value||0);
    if(f.direction==='buy') grp.buyCount++;
    if(f.direction==='sell') grp.sellCount++;
    if(f.title && grp.roles.indexOf(f.title)<0) grp.roles.push(f.title);
  });

  // Convert to sorted array: purchases first, then by filing count
  var groups=Object.keys(byTicker).map(function(k){return byTicker[k];});
  groups.sort(function(a,b){
    // Purchases with value first
    if(a.buyVal>0&&b.buyVal===0) return -1;
    if(b.buyVal>0&&a.buyVal===0) return 1;
    if(a.buyVal>0&&b.buyVal>0) return b.buyVal-a.buyVal;
    // Then sells by value
    if(a.sellVal>0&&b.sellVal===0) return -1;
    if(b.sellVal>0&&a.sellVal===0) return 1;
    if(a.sellVal>0&&b.sellVal>0) return b.sellVal-a.sellVal;
    // Then by cluster size
    return b.filings.length-a.filings.length;
  });

  var html='';
  var shown=0;
  groups.forEach(function(grp){
    if(shown>=25) return;
    var cnt=grp.filings.length;
    var t=grp.ticker;
    var co=grp.company;
    // Show ticker if available, otherwise company abbreviation
    var displayTicker=t||(co?co.split(/[\s,]+/).slice(0,2).join(' '):'Unknown');
    var isBuy=grp.buyCount>0;
    var isSell=grp.sellCount>0;
    var isCluster=cnt>=3;
    var isMulti=cnt>=2;

    // Score: base + role bonus + size bonus + cluster bonus
    var score=6;
    var roleNotes=[];
    grp.filings.forEach(function(f){
      var title=(f.title||'').toUpperCase();
      if(title.indexOf('CEO')>=0||title.indexOf('CHIEF EXECUTIVE')>=0){score+=4;roleNotes.push('CEO');}
      else if(title.indexOf('CFO')>=0||title.indexOf('CHIEF FINANCIAL')>=0){score+=3;roleNotes.push('CFO');}
      else if(title.indexOf('PRESIDENT')>=0){score+=2;roleNotes.push('President');}
      else if(title.indexOf('DIRECTOR')>=0||title.indexOf('CHAIR')>=0){roleNotes.push('Director');}
      if(f.buy_value>1000000) score+=5;
      else if(f.buy_value>250000) score+=3;
      else if(f.buy_value>50000) score+=1;
    });
    if(isCluster) score+=cnt>=5?15:cnt>=3?10:0;
    if(isMulti&&isBuy) score+=5; // multi-insider buying = strong signal
    score=Math.min(score,99);

    // Determine signal type
    var tagCls,tagLbl,dataIns;
    if(isCluster&&isBuy){tagCls='t-clus';tagLbl='Buy Cluster ('+cnt+')';dataIns='exc cluster buy';}
    else if(isCluster){tagCls='t-clus';tagLbl='Cluster ('+cnt+')';dataIns='str cluster';}
    else if(isBuy){tagCls='t-buy';tagLbl='Purchase';dataIns='str buy';}
    else if(isSell){tagCls='t-sell';tagLbl='Sale';dataIns='str sell';}
    else{tagCls='t-neut';tagLbl=cnt>1?'Multi ('+cnt+')':'Filing';dataIns='str';}

    // Build insiders list (truncate if too many)
    var names=[];
    grp.filings.slice(0,4).forEach(function(f){
      var name=f.insider||'Unknown';
      var title=f.title?(' Â· '+f.title):'';
      names.push(name+title);
    });
    var nameStr=names.join('; ');
    if(cnt>4) nameStr+='; +'+(cnt-4)+' more';

    // Value display
    var valHtml='';
    if(grp.buyVal>0) valHtml='<span class="val up">'+fmtVal(grp.buyVal)+'</span>';
    if(grp.sellVal>0) valHtml+=(valHtml?' / ':'')+'<span class="val dn">'+fmtVal(grp.sellVal)+'</span>';
    if(!valHtml) valHtml='<span style="color:var(--muted)">\u2014</span>';

    // Date range
    var dates=grp.filings.map(function(f){return f.date||'';}).filter(Boolean).sort();
    var dateStr=dates.length?dates[dates.length-1]:'';

    // 10b5-1 flag
    var has10b5=grp.filings.some(function(f){return f.is_10b5_1;});

    // Score class
    var scCls=score>=30?'sc3':score>=15?'sc2':'sc1';

    html+='<tr data-ins="'+dataIns+'">'
      +'<td><div class="sym">'+displayTicker+'</div><div class="sym-sub">'+co+'</div></td>'
      +'<td style="max-width:280px"><div style="font-size:10.5px;line-height:1.4">'
      +nameStr
      +'</div>'
      +(has10b5?'<span style="font-size:8px;color:var(--muted)">[10b5-1 plan]</span>':'')
      +'</td>'
      +'<td class="r">'+valHtml+'</td>'
      +'<td class="r"><span style="font-family:var(--mono);font-size:10px;color:var(--muted)">'+cnt+'</span></td>'
      +'<td class="c"><span class="tag '+tagCls+'">'+tagLbl+'</span></td>'
      +'<td class="c"><span class="score '+scCls+'">'+fmtScore(score)+'</span></td>'
      +'<td><span class="sym-sub">'+dateStr+'</span></td>'
      +'</tr>';
    shown++;
  });
  tbody.innerHTML=html;

  // â”€â”€ Update Insider page KPIs â”€â”€
  var today=new Date().toISOString().slice(0,10);
  var todayCount=edgarData.filter(function(f){return f.date===today;}).length;
  var purchaseCount=edgarData.filter(function(f){return f.direction==='buy';}).length;
  var sellCount=edgarData.filter(function(f){return f.direction==='sell';}).length;
  var ceoCount=edgarData.filter(function(f){
    var t=(f.title||'').toUpperCase();
    return (t.indexOf('CEO')>=0||t.indexOf('CHIEF EXECUTIVE')>=0)&&f.direction==='buy';
  }).length;
  var plan10b5=edgarData.filter(function(f){return f.is_10b5_1;}).length;

  // Cluster count (3+ filings same ticker with purchases)
  var buyByTicker={};
  edgarData.forEach(function(f){
    if(f.direction==='buy'&&f.ticker) buyByTicker[f.ticker]=(buyByTicker[f.ticker]||0)+1;
  });
  var buyClusters=Object.keys(buyByTicker).filter(function(k){return buyByTicker[k]>=2;}).length;

  var el=document.getElementById.bind(document);
  if(el('ins-kpi-today')) el('ins-kpi-today').textContent=todayCount||'--';
  if(el('ins-kpi-today-d')) el('ins-kpi-today-d').textContent=today;
  if(el('ins-kpi-total')) el('ins-kpi-total').textContent=edgarData.length;
  if(el('ins-kpi-total-d')){
    var parts=[];
    if(purchaseCount) parts.push(purchaseCount+' buys');
    if(sellCount) parts.push(sellCount+' sells');
    el('ins-kpi-total-d').textContent=parts.length?parts.join(' Â· '):'SEC EDGAR';
  }
  if(el('ins-kpi-clusters')) el('ins-kpi-clusters').textContent=buyClusters||'--';
  if(el('ins-kpi-clusters-d')) el('ins-kpi-clusters-d').textContent='2+ purchases same co.';
  if(el('ins-kpi-tracked')) el('ins-kpi-tracked').textContent=purchaseCount||'0';
  if(el('ins-kpi-tracked-d')) el('ins-kpi-tracked-d').textContent='Open-market buys';
  if(el('ins-kpi-cos')) el('ins-kpi-cos').textContent=ceoCount||'--';
  if(el('ins-kpi-cos-d')) el('ins-kpi-cos-d').textContent='CEO/C-suite buys';
  if(el('ins-kpi-insiders')) el('ins-kpi-insiders').textContent=plan10b5;
  if(el('ins-kpi-insiders-d')) el('ins-kpi-insiders-d').textContent='Pre-planned (discounted)';
}

function renderEdgarFallback(){
  // Static curated filings â€” shown only if edgar_feed.json is missing or empty
  var feed=document.getElementById('edgar-feed');
  if(!feed) return;
  setDataDot('edgar','warn');
  var items=[
    {ticker:'TMDX',name:'Hassanein, Waleed H.',role:'President & CEO',type:'Buy',value:'$4.2M',date:'2026-02-19',score:94,link:'https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&company=transmedics&type=4&dateb=&owner=include&count=10'},
    {ticker:'OXY', name:'Hollub, Vicki A.',role:'CEO',type:'Buy (Cluster)',value:'$28.1M',date:'2026-02-17',score:91,link:'https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&company=occidental&type=4&dateb=&owner=include&count=10'},
    {ticker:'META',name:'Sandberg, Sheryl',role:'Director',type:'Buy',value:'$19.4M',date:'2026-02-18',score:85,link:'https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&company=meta+platforms&type=4&dateb=&owner=include&count=10'},
    {ticker:'SMPL',name:'Morgan, Brian',role:'CEO',type:'Sell',value:'$6.2M',date:'2026-02-16',score:-81,link:'https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&company=simply+good&type=4&dateb=&owner=include&count=10'},
  ];
  var html='<div style="padding:6px 12px;font-size:8.5px;color:var(--blue-lt);background:var(--blue-pale);'
    +'border-bottom:1px solid var(--border-s)">ðŸ“‹ Run scripts/fetch_data.py to populate live feed Â· '
    +'Below: last known curated filings</div>';
  items.forEach(function(it){
    var isPos=it.score>0;
    html+='<div class="edgar-feed-item'+(isPos?' efi-new':'')+'">'
      +'<div class="efi-ticker">'+it.ticker+'</div>'
      +'<div class="efi-body">'
      +'<div class="efi-name">'+it.name+' <span style="font-weight:400;color:var(--muted)">Â· '+it.role+'</span></div>'
      +'<div class="efi-detail">'+it.type+' Â· '+it.value+'</div>'
      +'<div class="efi-time">'+it.date+' Â· <a href="'+it.link+'" target="_blank" style="color:var(--blue-lt)">SEC EDGAR â†’</a></div>'
      +'</div>'
      +'<span class="efi-score" style="color:'+(isPos?'var(--green)':'var(--red-lt)')+'">'+it.score+'</span>'
      +'</div>';
  });
  html+='<div style="padding:8px 12px;text-align:center"><a href="https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&type=4&dateb=&owner=include&count=40&search_text=&action=getcompany" target="_blank" style="font-size:10px;color:var(--blue-lt)">All Form 4 filings on SEC EDGAR â†’</a></div>';
  feed.innerHTML=html;
  document.getElementById('edgar-last-check').textContent='EDGAR Â· Curated filings Â· Run fetch_data.py for live feed';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONVERGENCE SCORING ENGINE  (P2.3)
// See SCORING.md for full factor weights and roadmap.
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Keywords to match EDGAR company names to tracked tickers
// (EDGAR search index has no ticker field â€” must match by name)
var TICKER_KEYWORDS={
  RTX: ['raytheon','rtx corp'],
  NVDA:['nvidia'],
  OXY: ['occidental'],
  TMDX:['transmedics'],
  FCX: ['freeport'],
  PFE: ['pfizer'],
  TSM: ['taiwan semiconductor'],
  META:['meta platforms'],
  WFRD:['weatherford'],
  SMPL:['simply good','atkins']
  // ITA: ETF â€” no Form 4 filings
};

// SEC companyâ†’ticker map (loaded from data/sec_tickers.json, 10,000+ entries)
// Falls back to TICKER_KEYWORDS above if unavailable
var SEC_TICKER_MAP={};

function matchEdgarTicker(companyName){
  var co=(companyName||'').toLowerCase().trim().replace(/\s*\/[a-z]{2,3}\/?\s*$/i,'').trim();
  // Stage 1: SEC map exact match (10,000+ entries)
  if(SEC_TICKER_MAP[co]) return SEC_TICKER_MAP[co];
  // Also try with the original (unsanitized) company name
  var coOrig=(companyName||'').toLowerCase().trim();
  if(SEC_TICKER_MAP[coOrig]) return SEC_TICKER_MAP[coOrig];
  // Stage 2: TICKER_KEYWORDS fallback (10 hardcoded entries)
  var found=null;
  Object.keys(TICKER_KEYWORDS).forEach(function(t){
    if(found) return;
    if(TICKER_KEYWORDS[t].some(function(kw){return co.indexOf(kw)>=0;})) found=t;
  });
  if(found) return found;
  // Stage 3: SEC map substring match (slower, last resort)
  if(Object.keys(SEC_TICKER_MAP).length>0){
    var keys=Object.keys(SEC_TICKER_MAP);
    for(var i=0;i<keys.length;i++){
      if(keys[i].indexOf(co)>=0||co.indexOf(keys[i])>=0) return SEC_TICKER_MAP[keys[i]];
    }
  }
  return null;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BUILD TICKER UNIVERSE
// Returns all unique tickers from live congressional feed + TRACKED.
// Scoring functions are then called on this full universe, not just TRACKED.
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function buildTickerUniverse(){
  var universe={};
  Object.keys(TRACKED).forEach(function(t){ universe[t]=true; });
  congData.forEach(function(t){
    if(t.Ticker&&t.Ticker.length>=1&&t.Ticker.length<=5) universe[t.Ticker]=true;
  });
  // Include tickers from enriched EDGAR data
  edgarData.forEach(function(f){
    if(f.ticker&&f.ticker.length>=1&&f.ticker.length<=5) universe[f.ticker]=true;
  });
  return Object.keys(universe);
}

// Score congressional buys for a ticker over the last N days
function scoreCongressTicker(ticker, days){
  if(!congData.length) return {score:0,count:0,clusterBonus:0};
  var cutoff=new Date(Date.now()-days*86400000);
  var buys=congData.filter(function(t){
    var d=new Date(t.TransactionDate||t.Date||'');
    var tx=(t.Transaction||'').toLowerCase();
    var isPurchase=tx.indexOf('purchase')>=0||tx.indexOf('buy')>=0;
    return t.Ticker===ticker&&isPurchase&&d>=cutoff;
  });
  if(!buys.length) return {score:0,count:0,clusterBonus:0};
  var pts=0;
  var now=Date.now();
  buys.forEach(function(t){
    var r=t.Range||'';
    var rawPts=0;
    if(r.indexOf('$5,000,001')>=0)       rawPts=15;
    else if(r.indexOf('$1,000,001')>=0) rawPts=15;
    else if(r.indexOf('$500,001')>=0)    rawPts=12;
    else if(r.indexOf('$250,001')>=0)    rawPts=10;
    else if(r.indexOf('$100,001')>=0)    rawPts=8;
    else if(r.indexOf('$50,001')>=0)     rawPts=6;
    else if(r.indexOf('$15,001')>=0)     rawPts=5;
    else                                  rawPts=3;
    // Signal decay: half-life = 21 days (will be tuned by backtest)
    var daysSince=(now-new Date(t.TransactionDate||t.Date||now))/86400000;
    var halfLife=(SCORE_WEIGHTS&&SCORE_WEIGHTS.decay_half_life_days)||21;
    var decayFactor=Math.pow(0.5,Math.max(0,daysSince)/halfLife);
    pts+=rawPts*decayFactor;
  });
  var clusterBonus=buys.length>=3?15:0;
  return {score:Math.round(Math.min(pts+clusterBonus,40)),count:buys.length,clusterBonus:clusterBonus};
}

// Score EDGAR Form 4 filings for a ticker over the last N days
function scoreEdgarTicker(ticker, days){
  if(!edgarData.length) return {score:0,count:0};
  var cutoff=new Date(Date.now()-days*86400000);
  // Match by enriched ticker field first, fall back to keyword matching
  var matches=edgarData.filter(function(f){
    var d=new Date(f.date||'');
    if(d<cutoff) return false;
    if(f.ticker) return f.ticker===ticker;
    return matchEdgarTicker(f.company)===ticker;
  });
  if(!matches.length) return {score:0,count:0};
  // Enhanced scoring with enriched data
  var pts=0;
  matches.forEach(function(f){
    var base=6;
    // Role seniority bonus
    var title=(f.title||'').toUpperCase();
    if(title.indexOf('CEO')>=0||title.indexOf('CHIEF EXECUTIVE')>=0) base+=4;
    else if(title.indexOf('CFO')>=0||title.indexOf('CHIEF FINANCIAL')>=0) base+=3;
    else if(title.indexOf('PRESIDENT')>=0) base+=2;
    // Purchase size bonus
    if(f.buy_value>1000000) base+=5;
    else if(f.buy_value>250000) base+=3;
    else if(f.buy_value>50000) base+=1;
    // Buy direction bonus (sells are less informative)
    if(f.direction==='buy') base+=2;
    // 10b5-1 discount (pre-planned = less informative)
    if(f.is_10b5_1) base=Math.round(base*0.4);
    pts+=base;
  });
  var clusterBonus=matches.length>=3?15:matches.length>=2?10:0;
  return {score:Math.round(Math.min(pts+clusterBonus,40)),count:matches.length};
}

// Full convergence score for one ticker
function computeConvergenceScore(ticker){
  var cong =scoreCongressTicker(ticker,30);
  var edgar=scoreEdgarTicker(ticker,14);
  var boost=0;
  if(cong.score>0&&edgar.score>0) boost+=20; // Congressional + Insider convergence
  // Legislative catalyst check â€” uses date field from BILLS array
  var activeBill=BILLS.find(function(b){
    if(!b.date) return false;
    var billDate=new Date(b.date+'T00:00:00');
    var withinWindow=(billDate-Date.now())<60*86400000&&(billDate-Date.now())>-7*86400000;
    return withinWindow&&b.impactTickers.indexOf(ticker)>=0;
  });
  if(activeBill&&(cong.score>0||edgar.score>0)) boost+=15;
  var total=cong.score+edgar.score+boost;
  return {total:total,congress:cong,insider:edgar,boost:boost,
          hasConvergence:cong.score>0&&edgar.score>0};
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GROUP C1 â€” renderTopSignals()
// Populates Overview Top Signals table from live feed data
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderTopSignals(){
  var tbody=document.getElementById('top-signals-tbl');
  if(!tbody) return;
  var rows=buildTickerUniverse().map(function(ticker){
    var sc=computeConvergenceScore(ticker);
    var info=TRACKED[ticker]||{dir:'long'};
    return {ticker:ticker,info:info,sc:sc};
  }).filter(function(r){
    return r.sc.total>0;
  }).sort(function(a,b){
    return b.sc.total-a.sc.total;
  }).slice(0,20);
  if(!rows.length){
    tbody.innerHTML='<tr><td colspan="6" style="padding:16px;text-align:center;color:var(--muted);font-size:11px">No signals above threshold yet â€” feeds loading...</td></tr>';
    return;
  }
  var html='';
  var maxScore=0;
  rows.forEach(function(r){
    var ticker=r.ticker; var sc=r.sc; var info=r.info;
    if(Math.abs(sc.total)>Math.abs(maxScore)) maxScore=sc.total;
    var sigType=(sc.congress.count>0&&sc.insider.count>0)?'Multi-Source'
      :sc.congress.count>0?'Congress':sc.insider.count>0?'EDGAR Insider':'Signal';
    var tagCls=sigType==='Multi-Source'?'t-clus':sc.congress.count>0?'t-warn':'t-buy';
    var actorParts=[];
    if(sc.congress.count>0) actorParts.push(sc.congress.count+' congressional trade'+(sc.congress.count>1?'s':''));
    if(sc.insider.count>0) actorParts.push(sc.insider.count+' EDGAR filing'+(sc.insider.count>1?'s':''));
    var actor=actorParts.join(' Â· ')||'Live signal';
    var dirTag=info.dir==='long'?'<span class="tag t-buy">Long</span>':'<span class="tag t-sell">Short</span>';
    var totalCls=Math.abs(sc.total)>=85?'sc4':Math.abs(sc.total)>=65?'sc3':'sc1';
    html+='<tr>'
      +'<td><div class="sym">'+ticker+'</div></td>'
      +'<td><span class="tag '+tagCls+'">'+sigType+'</span></td>'
      +'<td style="font-size:11px">'+actor+'</td>'
      +'<td class="c"><span class="score '+totalCls+'">'+fmtScore(sc.total)+'</span></td>'
      +'<td class="r"><span class="val '+(info.dir==='long'?'up':'dn')+'">Live</span></td>'
      +'<td>'+dirTag+'</td>'
      +'</tr>';
  });
  tbody.innerHTML=html;
  // Update ideas page max score displays
  var msEl=document.getElementById('ideas-max-score');
  if(msEl) msEl.textContent=maxScore?fmtScore(maxScore):'â€”';
  var msBoxEl=document.getElementById('ideas-max-score-box');
  if(msBoxEl) msBoxEl.textContent=maxScore?fmtScore(maxScore):'â€”';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GROUP C2 â€” renderLiveAlerts()
// Replaces hardcoded alert-rows with live-computed alerts
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderLiveAlerts(){
  var panel=document.getElementById('live-alerts-panel');
  if(!panel) return;
  var alerts=[];
  // High-score ticker alerts from live scoring (full universe, not just TRACKED)
  buildTickerUniverse().forEach(function(ticker){
    var sc=computeConvergenceScore(ticker);
    if(sc.total>=75){
      var parts=[];
      if(sc.congress.count>0) parts.push(sc.congress.count+' congressional trade'+(sc.congress.count>1?'s':''));
      if(sc.insider.count>0) parts.push(sc.insider.count+' EDGAR filing'+(sc.insider.count>1?'s':''));
      alerts.push({
        ico:sc.total>=85?'\uD83D\uDD34':'\uD83D\uDFE1',
        title:ticker+' Â· Score '+fmtScore(sc.total),
        detail:parts.join(' Â· ')||'Convergence signal',
        time:'Live Â· '+new Date().toLocaleDateString('en-US',{month:'short',day:'numeric'})
      });
    }
  });
  // Bill vote alerts â€” scan legislative timeline for upcoming dates
  var now=Date.now();
  document.querySelectorAll('.tl-date[data-bill-date]').forEach(function(el){
    var dateStr=el.getAttribute('data-bill-date');
    if(!dateStr) return;
    var days=Math.ceil((new Date(dateStr)-now)/86400000);
    if(days>=0&&days<=7){
      var desc=el.closest('.tl-content')?el.closest('.tl-content').querySelector('.tl-desc').textContent:'Upcoming vote';
      alerts.push({ico:'\uD83D\uDFE1',title:desc+' â€” '+days+' day'+(days!==1?'s':''),detail:'Floor vote / markup imminent',time:desc});
    }
  });
  if(!alerts.length){
    panel.innerHTML='<div style="padding:16px;text-align:center;color:var(--muted);font-size:11px">'
      +'<span class="live-dot" style="display:inline-block;margin-right:6px"></span>'
      +'Monitoring live signals â€” no alerts above threshold yet</div>';
    return;
  }
  alerts.sort(function(a,b){return a.ico<b.ico?1:-1;});
  panel.innerHTML=alerts.slice(0,4).map(function(a){
    return '<div class="alert-row"><div class="alert-ico">'+a.ico+'</div><div>'
      +'<div class="alert-title">'+a.title+'</div>'
      +'<div class="alert-detail">'+a.detail+'</div>'
      +'<div class="alert-time">'+a.time+'</div>'
      +'</div></div>';
  }).join('');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GROUP C3 â€” updateOverviewKPIs()
// Replaces hardcoded KPI values on Overview page
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function updateOverviewKPIs(){
  var maxScore=0; var maxTicker='';
  var excCount=0; var corrCount=0;
  buildTickerUniverse().forEach(function(t){
    var sc=computeConvergenceScore(t);
    if(Math.abs(sc.total)>Math.abs(maxScore)){maxScore=sc.total;maxTicker=t;}
    if(Math.abs(sc.total)>=80) excCount++;
    if(sc.congress.score>0&&sc.insider.score>0) corrCount++;
  });
  // kb1 â€” Top Signal Score
  var kb1=document.getElementById('kb1');
  if(kb1){
    var kpi1=kb1.closest('.kpi');
    if(kpi1){
      var v=kpi1.querySelector('.kpi-value'); if(v) v.textContent=maxScore?fmtScore(maxScore):'--';
      var d=kpi1.querySelector('.kpi-delta'); if(d) d.textContent=maxTicker||'â€”';
    }
  }
  // kb2 â€” Exceptional Signals
  var kb2=document.getElementById('kb2');
  if(kb2){var kpi2=kb2.closest('.kpi');if(kpi2){var v2=kpi2.querySelector('.kpi-value');if(v2) v2.textContent=excCount;}}
  // kb3 â€” Cluster Events (3+ congress members same ticker, 30 days)
  var clusterCount=0;
  if(congData.length){
    var dateKey=congData[0].TransactionDate?'TransactionDate':'Date';
    var cutoff=new Date(Date.now()-30*86400000);
    var recent=congData.filter(function(t){return new Date(t[dateKey])>=cutoff;});
    var buyCounts={};
    recent.forEach(function(t){
      var tx=(t.Transaction||'').toLowerCase();
      if(tx.indexOf('purchase')>=0||tx.indexOf('buy')>=0) buyCounts[t.Ticker]=(buyCounts[t.Ticker]||0)+1;
    });
    clusterCount=Object.keys(buyCounts).filter(function(k){return buyCounts[k]>=3;}).length;
  }
  var kb3=document.getElementById('kb3');
  if(kb3){var kpi3=kb3.closest('.kpi');if(kpi3){var v3=kpi3.querySelector('.kpi-value');if(v3) v3.textContent=clusterCount||'--';}}
  // kb4 â€” Congress Buy Flags
  var flagCount=congData.filter(function(t){
    var tx=(t.Transaction||'').toLowerCase();
    return tx.indexOf('purchase')>=0||tx.indexOf('buy')>=0;
  }).length;
  var kb4=document.getElementById('kb4');
  if(kb4){var kpi4=kb4.closest('.kpi');if(kpi4){var v4=kpi4.querySelector('.kpi-value');if(v4) v4.textContent=flagCount||'--';}}
  // kb5 â€” Atypical Inst. Flows (no live 13F data)
  var kb5=document.getElementById('kb5');
  if(kb5){var kpi5=kb5.closest('.kpi');if(kpi5){var v5=kpi5.querySelector('.kpi-value');if(v5) v5.textContent='--';}}
  // kb6 â€” Bills w/ Market Impact
  var kb6=document.getElementById('kb6');
  if(kb6){var kpi6=kb6.closest('.kpi');if(kpi6){var v6=kpi6.querySelector('.kpi-value');if(v6) v6.textContent=BILLS.length;}}
  // kb7 â€” Correlated Ideas (congress + insider both active)
  var kb7=document.getElementById('kb7');
  if(kb7){var kpi7=kb7.closest('.kpi');if(kpi7){var v7=kpi7.querySelector('.kpi-value');if(v7) v7.textContent=corrCount||'--';}}
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// GROUP C5 â€” renderNotifications()
// Mirrors renderLiveAlerts() logic into the Notification Center
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderNotifications(){
  var list=document.getElementById('notif-list');
  if(!list) return;
  var alerts=[];
  buildTickerUniverse().forEach(function(ticker){
    var sc=computeConvergenceScore(ticker);
    if(sc.total>=75){
      var parts=[];
      if(sc.congress.count>0) parts.push(sc.congress.count+' congressional trade'+(sc.congress.count>1?'s':''));
      if(sc.insider.count>0) parts.push(sc.insider.count+' EDGAR filing'+(sc.insider.count>1?'s':''));
      alerts.push({score:sc.total,ticker:ticker,detail:parts.join(' Â· ')||'Convergence signal'});
    }
  });
  var cntEl=document.getElementById('notif-cnt-lbl');
  if(!alerts.length){
    list.innerHTML='<div id="notif-empty" style="padding:20px;text-align:center;color:var(--muted);font-size:11px">'
      +'<span class="live-dot" style="display:inline-block;margin-right:6px"></span>'
      +'Monitoring live signals â€” notifications appear when thresholds are crossed</div>';
    if(cntEl) cntEl.textContent='0 unread';
    return;
  }
  alerts.sort(function(a,b){return b.score-a.score;});
  var now=new Date().toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'});
  list.innerHTML=alerts.map(function(a){
    var ico=a.score>=85?'\uD83D\uDD34':'\uD83D\uDFE1';
    var tier=a.score>=85?'Exceptional Signal':'Strong Signal';
    var tagCls=a.score>=85?'t-buy':'t-warn';
    return '<div class="notif-item unread"><div class="notif-ico">'+ico+'</div>'
      +'<div style="flex:1"><div class="notif-title">'+tier+': '+a.ticker+' Score '+a.score+'</div>'
      +'<div class="notif-body">'+a.detail+' Â· Live convergence engine Â· Score updated in real-time</div>'
      +'<div class="notif-meta"><span class="notif-time">'+now+'</span>'
      +'<span class="tag '+tagCls+'" style="margin-left:auto;font-size:7.5px">Live</span>'
      +'<span class="notif-dismiss" onclick="dismissNotif(this)">Dismiss</span>'
      +'</div></div></div>';
  }).join('');
  if(cntEl) cntEl.textContent=alerts.length+' unread';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// renderSignalIdeas() â€” auto-generate trade idea cards when score â‰¥ 65
// Watchlist tier for scores 40â€“64; ideas tier for scores â‰¥ 65
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderSignalIdeas(){
  var container=document.getElementById('idea-cards-container');
  if(!container) return;
  var IDEA_THRESHOLD=window.SCORE_THRESHOLD||65;
  var WATCH_THRESHOLD=40;
  var universe=buildTickerUniverse();
  var all=universe.map(function(ticker){
    var sc=computeConvergenceScore(ticker);
    return {ticker:ticker,sc:sc};
  }).filter(function(r){ return r.sc.total>=WATCH_THRESHOLD; })
    .sort(function(a,b){ return b.sc.total-a.sc.total; });
  var ideas=all.filter(function(r){ return r.sc.total>=IDEA_THRESHOLD; });
  var watchlist=all.filter(function(r){ return r.sc.total>=WATCH_THRESHOLD&&r.sc.total<IDEA_THRESHOLD; });
  var activeEl=document.getElementById('ideas-active-count');
  if(activeEl) activeEl.textContent=ideas.length;
  var maxScore=all.length?fmtScore(all[0].sc.total):0;
  if(!all.length){
    container.innerHTML='<div style="padding:32px 20px;text-align:center;color:var(--muted)">'
      +'<div style="font-size:22px;margin-bottom:8px">ðŸ“¡</div>'
      +'<div style="font-size:13px;font-weight:600;color:var(--text-s);margin-bottom:6px">No signals above threshold</div>'
      +'<div style="font-size:11px;line-height:1.7">Convergence engine monitoring all feeds.<br>Ideas generated when score â‰¥ '+IDEA_THRESHOLD+'.</div>'
      +'<div style="margin-top:12px;font-size:10px;color:var(--text-f)">Highest score: <span id="ideas-max-score-inline">'+(maxScore||'â€”')+'</span></div>'
      +'</div>';
    var msEl=document.getElementById('ideas-max-score');
    if(msEl) msEl.textContent=maxScore||'â€”';
    var msBoxEl=document.getElementById('ideas-max-score-box');
    if(msBoxEl) msBoxEl.textContent=maxScore||'â€”';
    return;
  }
  var now=new Date().toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'});
  var html='';
  // Trade Ideas section
  if(ideas.length){
    html+='<div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--blue-lt);margin-bottom:10px">Trade Ideas â€” Score â‰¥ '+IDEA_THRESHOLD+'</div>';
    html+=ideas.map(function(r){
      var sc=r.sc; var ticker=r.ticker;
      var parts=[];
      if(sc.congress.count>0) parts.push(sc.congress.count+' congressional buy'+(sc.congress.count>1?'s':''));
      if(sc.insider.count>0) parts.push(sc.insider.count+' EDGAR filing'+(sc.insider.count>1?'s':''));
      var signal=parts.join(' Â· ')||'Convergence signal';
      var scoreCls=sc.total>=95?'sc4':sc.total>=IDEA_THRESHOLD?'sc3':'sc1';
      var tag=sc.hasConvergence?'<span class="tag t-clus">Multi-Source</span>':sc.congress.count>0?'<span class="tag t-warn">Congress</span>':'<span class="tag t-buy">EDGAR</span>';
      return '<div class="idea-card" style="border:1px solid var(--border);border-radius:8px;padding:16px;margin-bottom:12px">'
        +'<div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:6px">'
        +'<div><div style="display:flex;align-items:center;gap:6px"><span class="sym" style="font-size:15px;font-weight:700">'+ticker+'</span>'+tag+'</div>'
        +'<div class="sym-sub" style="margin-top:3px">'+signal+'</div></div>'
        +'<span class="score '+scoreCls+'" style="font-size:17px;flex-shrink:0">'+fmtScore(sc.total)+'</span>'
        +'</div>'
        +'<div style="font-size:10px;color:var(--muted)">Engine-generated Â· '+now+' Â· Convergence boost: +'+fmtScore(sc.boost)+'pts</div>'
        +'</div>';
    }).join('');
  }
  // Watchlist section
  if(watchlist.length){
    html+='<div style="font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin:16px 0 10px">Monitoring â€” Score '+WATCH_THRESHOLD+'â€“'+(IDEA_THRESHOLD-1)+'</div>';
    html+=watchlist.slice(0,8).map(function(r){
      var sc=r.sc; var ticker=r.ticker;
      var parts=[];
      if(sc.congress.count>0) parts.push(sc.congress.count+' cong. trade'+(sc.congress.count>1?'s':''));
      if(sc.insider.count>0) parts.push(sc.insider.count+' EDGAR filing'+(sc.insider.count>1?'s':''));
      var signal=parts.join(' Â· ')||'Signal activity';
      return '<div style="display:flex;justify-content:space-between;align-items:center;padding:10px 12px;border:1px solid var(--border);border-radius:6px;margin-bottom:6px">'
        +'<div><div class="sym" style="font-size:13px;font-weight:600">'+ticker+'</div>'
        +'<div class="sym-sub" style="margin-top:1px">'+signal+'</div></div>'
        +'<span class="score sc1" style="font-size:13px">'+fmtScore(sc.total)+'</span>'
        +'</div>';
    }).join('');
  }
  container.innerHTML=html;
  // Update score displays
  var msEl=document.getElementById('ideas-max-score');
  if(msEl) msEl.textContent=maxScore||'â€”';
  var msBoxEl=document.getElementById('ideas-max-score-box');
  if(msBoxEl) msBoxEl.textContent=maxScore||'â€”';
  var msInline=document.getElementById('ideas-max-score-inline');
  if(msInline) msInline.textContent=maxScore||'â€”';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// fetchTopScorerPrices() â€” request Finnhub prices for top-scoring universe tickers
// not already in priceCache; throttled to top 10 to stay within API rate limits
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function fetchTopScorerPrices(){
  var topScorers=buildTickerUniverse().map(function(t){
    return {ticker:t,score:computeConvergenceScore(t).total};
  }).filter(function(r){ return r.score>0&&!priceCache[r.ticker]; })
    .sort(function(a,b){ return b.score-a.score; })
    .slice(0,10);
  topScorers.forEach(function(r,i){
    setTimeout(function(){
      fetchPrice(r.ticker,function(ticker,data){
        if(data) priceCache[ticker]=data;
      });
    }, i*500); // stagger by 500ms to avoid rate-limiting
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LEGISLATIVE CALENDAR â€” rendered from BILLS array
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderLegislativeCalendar(){
  var container=document.getElementById('legislative-calendar');
  if(!container) return;
  if(!BILLS.length){
    container.innerHTML='<div style="text-align:center;color:var(--muted);font-size:10px;padding:12px">No bills tracked</div>';
    return;
  }
  // Sort by date ascending
  var sorted=BILLS.slice().sort(function(a,b){return new Date(a.date+'T00:00:00')-new Date(b.date+'T00:00:00');});
  var now=new Date(); now.setHours(0,0,0,0);
  var html='';
  sorted.forEach(function(b){
    var target=new Date(b.date+'T00:00:00');
    var days=Math.round((target-now)/86400000);
    // Dot class: proximity indicator
    var dotClass='tl-far';
    if(days<=0) dotClass='tl-near';
    else if(days<=7) dotClass='tl-near';
    else if(days<=21) dotClass='tl-mid';
    // Note color by proximity
    var noteColor='var(--blue-lt)';
    if(days<=0) noteColor='var(--muted)';
    else if(days<=7) noteColor='var(--red-lt)';
    else if(days<=21) noteColor='var(--amber)';
    // Bill label
    var chamberLabel=b.chamber==='senate'?'Senate':'House';
    var desc=b.id+' '+b.status+' â€” '+b.title;
    var tickers=b.impactTickers.join(', ');
    html+='<div class="tl-item">'
      +'<div class="tl-dot '+dotClass+'"></div>'
      +'<div class="tl-content">'
      +'<div class="tl-date" data-bill-date="'+b.date+'">'+b.date+'</div>'
      +'<div class="tl-desc">'+desc+'</div>'
      +'<div class="tl-note" style="color:'+noteColor+'">Watch: '+tickers+'</div>'
      +'</div></div>';
  });
  container.innerHTML=html;
  // Re-run countdown formatting on the new elements
  updateCountdowns();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SECTOR SIGNAL HEAT â€” computed from live congData + edgarData
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderSectorHeat(){
  var container=document.getElementById('sector-heat-container');
  if(!container) return;
  var cutoff30=new Date(Date.now()-30*86400000);
  var sectorCounts={};

  // Count congressional buys per sector (30d)
  congData.forEach(function(t){
    var d=new Date(t.TransactionDate||t.Date||'');
    if(d<cutoff30) return;
    var tx=(t.Transaction||'').toLowerCase();
    if(tx.indexOf('purchase')<0&&tx.indexOf('buy')<0) return;
    var ticker=t.Ticker||'';
    var sector=SECTOR_MAP[ticker];
    if(!sector) return;
    if(!sectorCounts[sector]) sectorCounts[sector]={buys:0,sells:0,total:0};
    sectorCounts[sector].buys++;
    sectorCounts[sector].total++;
  });

  // Count congressional sells per sector (30d)
  congData.forEach(function(t){
    var d=new Date(t.TransactionDate||t.Date||'');
    if(d<cutoff30) return;
    var tx=(t.Transaction||'').toLowerCase();
    if(tx.indexOf('sale')<0&&tx.indexOf('sell')<0) return;
    var ticker=t.Ticker||'';
    var sector=SECTOR_MAP[ticker];
    if(!sector) return;
    if(!sectorCounts[sector]) sectorCounts[sector]={buys:0,sells:0,total:0};
    sectorCounts[sector].sells++;
    sectorCounts[sector].total++;
  });

  // Count EDGAR filings per sector (30d)
  edgarData.forEach(function(f){
    var d=new Date(f.date||'');
    if(d<cutoff30) return;
    var ticker=f.ticker||'';
    var sector=SECTOR_MAP[ticker];
    if(!sector) return;
    if(!sectorCounts[sector]) sectorCounts[sector]={buys:0,sells:0,total:0};
    if(f.direction==='buy') sectorCounts[sector].buys++;
    else if(f.direction==='sell') sectorCounts[sector].sells++;
    sectorCounts[sector].total++;
  });

  var sectors=Object.keys(sectorCounts);
  if(!sectors.length){
    container.innerHTML='<div style="text-align:center;color:var(--muted);font-size:10px;padding:12px">Awaiting live feed data â€” sector heat will populate when congressional + insider signals load</div>';
    return;
  }

  // Sort by total activity descending
  sectors.sort(function(a,b){return sectorCounts[b].total-sectorCounts[a].total;});
  var maxTotal=sectorCounts[sectors[0]].total;

  var html='';
  sectors.forEach(function(sector){
    var s=sectorCounts[sector];
    var pct=Math.round((s.total/maxTotal)*100);
    // Net sentiment: buys vs sells
    var net=s.buys-s.sells;
    var fillClass=net>=0?'sf-pos':'sf-neg';
    var perfText=net>0?'+'+s.buys+' buys':net<0?s.sells+' sells':s.total+' mixed';
    var perfClass=net>0?'up':net<0?'dn':'';
    html+='<div class="sector-row">'
      +'<div class="sector-name">'+sector+'</div>'
      +'<div class="sector-track"><div class="sector-fill '+fillClass+'" data-w="'+pct+'%"></div></div>'
      +'<div class="sector-cnt">'+s.total+'</div>'
      +'<div class="sector-perf '+perfClass+'">'+perfText+'</div>'
      +'</div>';
  });
  container.innerHTML=html;
  // Animate the new bars
  setTimeout(animateBars,60);
}

// Re-render score overlays on all tracked cards (called after data loads)
function refreshConvergenceDisplays(){
  Object.keys(TRACKED).forEach(function(ticker){
    var cached=priceCache[ticker];
    if(cached) updateIdeaCard(ticker,cached);
  });
  fetchTopScorerPrices();
  renderTopSignals();
  renderLiveAlerts();
  updateOverviewKPIs();
  renderNotifications();
  renderSignalIdeas();
  renderSectorHeat();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONGRESS.GOV BILL TRACKING
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Congress.gov API â€” free, requires API key from api.congress.gov
// For now we use their public search + provide direct links
// When user has a Congress.gov API key, inject it here:
var CONGRESS_API_KEY = 'a39NI9lt1UHfIMLM1M4bvi25wgtVW73wITSqV8uk';

function fetchCongressData(){
  var feed=document.getElementById('congress-feed');
  if(!feed) return;

  if(CONGRESS_API_KEY){
    // With API key â€” fetch real bill status
    fetchCongressWithKey();
  } else {
    // Without key â€” use public Congress.gov search + curated data with live links
    renderCongressFallback();
  }
}

// Fallback bill data for when Congress.gov API returns null (demo bills may not exist in API)
var BILL_FALLBACK_DATA={
  'hr7821': {id:'HR 7821',title:'American AI Infrastructure Act',status:'Scheduled for Floor Vote',date:'Feb 25, 2026',link:'https://www.congress.gov/search?q=%7B%22congress%22%3A%22119%22%2C%22source%22%3A%22legislation%22%2C%22search%22%3A%22AI+infrastructure%22%7D&searchResultViewType=expanded'},
  's1882':  {id:'SB 1882',title:'National Defense Modernization Act',status:'Senate Armed Services Markup',date:'Mar 3, 2026',link:'https://www.congress.gov/search?q=%7B%22congress%22%3A%22119%22%2C%22source%22%3A%22legislation%22%2C%22search%22%3A%22defense+modernization%22%7D&searchResultViewType=expanded'},
  'hr6419': {id:'HR 6419',title:'Critical Minerals & Mining Security Act',status:'Scheduled for Floor Vote',date:'Mar 17, 2026',link:'https://www.congress.gov/search?q=%7B%22congress%22%3A%22119%22%2C%22source%22%3A%22legislation%22%2C%22search%22%3A%22critical+minerals%22%7D&searchResultViewType=expanded'},
  's2241':  {id:'SB 2241',title:'Drug Price Negotiation Expansion Act',status:'Senate Finance Committee',date:'Mar 10, 2026',link:'https://www.congress.gov/search?q=%7B%22congress%22%3A%22119%22%2C%22source%22%3A%22legislation%22%2C%22search%22%3A%22drug+price+negotiation%22%7D&searchResultViewType=expanded'},
  's3310':  {id:'SB 3310',title:'Clean Energy Investment Act',status:'Senate Energy Committee Hearing',date:'Apr 1, 2026',link:'https://www.congress.gov/search?q=%7B%22congress%22%3A%22119%22%2C%22source%22%3A%22legislation%22%2C%22search%22%3A%22clean+energy+investment%22%7D&searchResultViewType=expanded'}
};

function renderCongressCardFallback(bill){
  // Renders a bill card using local fallback data when API returns null
  var key=bill.type+bill.number;
  var fb=BILL_FALLBACK_DATA[key]||{id:(bill.type==='hr'?'HR':'SB')+' '+bill.number,title:'Bill details unavailable',status:'Unknown',date:'',link:'https://www.congress.gov'};
  return '<div class="bill-card">'
    +'<div class="bill-hd"><div class="bill-id">'+fb.id+'</div>'
    +'<div class="bill-title">'+fb.title+'</div></div>'
    +'<div style="font-size:10px;color:var(--amber);padding:0 12px 4px">'+fb.status
      +(fb.date?' Â· <strong>'+fb.date+'</strong>':'')+'</div>'
    +'<div style="padding:0 12px 8px"><a href="'+fb.link+'" target="_blank" style="font-size:10px;color:var(--blue-lt)">Search Congress.gov â†’</a></div>'
    +'</div>';
}

function fetchCongressWithKey(){
  var bills=[
    {number:'7821',type:'hr',congress:119},
    {number:'1882',type:'s', congress:119},
    {number:'6419',type:'hr',congress:119},
    {number:'2241',type:'s', congress:119},
    {number:'3310',type:'s', congress:119}
  ];
  var promises=bills.map(function(b){
    var url='https://api.congress.gov/v3/bill/'+b.congress+'/'+b.type+'/'+b.number+'?api_key='+CONGRESS_API_KEY+'&format=json';
    return fetch(url)
      .then(function(r){return r.json();})
      .then(function(d){return {bill:b,data:d};})
      .catch(function(){return {bill:b,data:null};});
  });
  Promise.all(promises).then(function(results){
    setDataDot('congress','ok');
    document.getElementById('congress-last-check').textContent='Congress.gov API Â· Updated '+new Date().toLocaleTimeString();
    var html='';
    var liveCount=0;
    results.forEach(function(r){
      var d=r.data;
      // d.bill is null when the bill number doesn't exist in the API (demo bills)
      if(!d||!d.bill){
        html+=renderCongressCardFallback(r.bill);
        return;
      }
      liveCount++;
      var b=d.bill;
      var status=b.latestAction&&b.latestAction.text?b.latestAction.text:'Status unknown';
      var actionDate=b.latestAction&&b.latestAction.actionDate?b.latestAction.actionDate:'';
      html+='<div class="bill-card">'
        +'<div class="bill-hd"><div class="bill-id">'+(r.bill.type==='hr'?'HR':'SB')+' '+r.bill.number+'</div>'
        +'<div class="bill-title">'+(b.title||'Unknown Title')+'</div></div>'
        +'<div style="font-size:10px;color:var(--text-s);padding:0 12px 6px">'+status+(actionDate?' Â· '+actionDate:'')+'</div>'
        +'<div style="padding:0 12px 8px"><a href="https://www.congress.gov/bill/'+r.bill.congress+'th-congress/'+(r.bill.type==='hr'?'house':'senate')+'-bill/'+r.bill.number+'" target="_blank" style="font-size:10px;color:var(--blue-lt)">View on Congress.gov â†’</a></div>'
        +'</div>';
    });
    var feed=document.getElementById('congress-feed');
    if(feed) feed.innerHTML=html;
    // Show note if none of the demo bills were found in the live API
    if(liveCount===0){
      document.getElementById('congress-last-check').textContent='Congress.gov API Â· Demo bills (HR/SB numbers are placeholders)';
    }
  }).catch(function(){
    renderCongressFallback();
  });
}

function renderCongressFallback(){
  var feed=document.getElementById('congress-feed');
  if(!feed) return;
  setDataDot('congress','warn');

  var billData=[
    {id:'HR 7821',title:'American AI Infrastructure Act',status:'Scheduled for Floor Vote',date:'Feb 25, 2026',prob:78,urgency:'HIGH',impactPos:['NVDA','AMD','SMCI','MSFT'],impactNeg:['China Tech'],note:'AI chip infrastructure subsidies $18B. NVDA primary beneficiary.',link:'https://www.congress.gov/search?q=%7B%22congress%22%3A%22119%22%2C%22source%22%3A%22legislation%22%2C%22search%22%3A%22AI+infrastructure%22%7D&searchResultViewType=expanded'},
    {id:'SB 1882',title:'National Defense Modernization Act',status:'Senate Armed Services Markup',date:'Mar 3, 2026',prob:85,urgency:'HIGH',impactPos:['RTX','LMT','NOC','BA','ITA'],impactNeg:[],note:'Missile defense + hypersonic + drone authorization. Highest passage probability tracked.',link:'https://www.congress.gov/search?q=%7B%22congress%22%3A%22119%22%2C%22source%22%3A%22legislation%22%2C%22search%22%3A%22defense+modernization%22%7D&searchResultViewType=expanded'},
    {id:'HR 6419',title:'Critical Minerals & Mining Security Act',status:'Scheduled for Floor Vote',date:'Mar 17, 2026',prob:71,urgency:'MED',impactPos:['FCX','MP','ALB','LTHM'],impactNeg:['Imports'],note:'Domestic copper/lithium mining subsidies. FCX largest US beneficiary.',link:'https://www.congress.gov/search?q=%7B%22congress%22%3A%22119%22%2C%22source%22%3A%22legislation%22%2C%22search%22%3A%22critical+minerals%22%7D&searchResultViewType=expanded'},
    {id:'SB 2241',title:'Drug Price Negotiation Expansion Act',status:'Senate Finance Committee',date:'Mar 10, 2026',prob:52,urgency:'MED',impactPos:['PBMs'],impactNeg:['PFE','MRK','ABBV'],note:'Drug pricing pressure. Health Committee member exits corroborate bearish signal.',link:'https://www.congress.gov/search?q=%7B%22congress%22%3A%22119%22%2C%22source%22%3A%22legislation%22%2C%22search%22%3A%22drug+price+negotiation%22%7D&searchResultViewType=expanded'},
    {id:'SB 3310',title:'Clean Energy Investment Act',status:'Senate Energy Committee Hearing',date:'Apr 1, 2026',prob:62,urgency:'MED',impactPos:['ENPH','NEE','FSLR'],impactNeg:[],note:'Solar + wind ITC extensions. Clean energy beneficiaries.',link:'https://www.congress.gov/search?q=%7B%22congress%22%3A%22119%22%2C%22source%22%3A%22legislation%22%2C%22search%22%3A%22clean+energy+investment%22%7D&searchResultViewType=expanded'}
  ];

  var html='<div style="padding:5px 12px;font-size:8.5px;color:var(--blue-lt);background:var(--blue-pale);border-bottom:1px solid var(--border-s)">ðŸ“‹ Add a free Congress.gov API key at api.congress.gov for real-time bill status Â· Below shows latest known data with direct links</div>';
  billData.forEach(function(b){
    var urgColor=b.urgency==='HIGH'?'var(--red-lt)':'var(--amber)';
    html+='<div class="bill-card">'
      +'<div class="bill-hd">'
      +'<div class="bill-id">'+b.id+'</div>'
      +'<div class="bill-title">'+b.title+'</div>'
      +'<div class="bill-status" style="color:'+urgColor+'">'+b.urgency+'</div>'
      +'</div>'
      +'<div class="prob-row" style="padding:0 12px 4px">'
      +'<div class="prob-lbl">Passage</div>'
      +'<div class="prob-track"><div class="prob-fill" style="width:'+b.prob+'%"></div></div>'
      +'<div class="prob-pct">'+b.prob+'%</div>'
      +'</div>'
      +'<div style="padding:2px 12px 4px;font-size:10px;color:var(--text-s)">ðŸ“… '+b.status+' Â· <strong>'+b.date+'</strong></div>'
      +'<div style="padding:2px 12px 4px;font-size:9.5px;color:var(--muted)">'+b.note+'</div>'
      +'<div style="padding:3px 12px 7px;display:flex;gap:8px;flex-wrap:wrap;align-items:center">'
      +(b.impactPos.map(function(t){return '<span class="tag t-buy" style="font-size:7.5px">'+t+' â†‘</span>';}).join(''))
      +(b.impactNeg.map(function(t){return '<span class="tag t-sell" style="font-size:7.5px">'+t+' â†“</span>';}).join(''))
      +'<a href="'+b.link+'" target="_blank" style="font-size:9.5px;color:var(--blue-lt);margin-left:auto">Congress.gov â†’</a>'
      +'</div>'
      +'</div>';
  });
  html+='<div style="padding:8px 12px;text-align:center;border-top:1px solid var(--border-s)">'
    +'<a href="https://api.congress.gov/" target="_blank" style="font-size:10px;color:var(--blue-lt)">Get free Congress.gov API key for live bill tracking â†’</a>'
    +'</div>';
  feed.innerHTML=html;
  document.getElementById('congress-last-check').textContent='Congress.gov Â· Manual data + direct links';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// NAVIGATION & UI
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function goPage(id,el){
  document.querySelectorAll('.page').forEach(function(p){p.classList.remove('active')});
  var pg=document.getElementById('page-'+id);
  if(pg) pg.classList.add('active');
  document.querySelectorAll('.nav-item').forEach(function(n){n.classList.remove('active')});
  if(el) el.classList.add('active');
  window.scrollTo({top:0,behavior:'smooth'});
  setTimeout(animateBars,150);
}

function animateBars(){
  document.querySelectorAll('.sector-fill[data-w]').forEach(function(el){
    el.style.width='0';
    setTimeout(function(){el.style.width=el.getAttribute('data-w');},60);
  });
  var kbars=[['kb1','100%'],['kb2','60%'],['kb3','45%'],['kb4','72%'],['kb5','85%'],['kb6','78%'],['kb7','55%']];
  kbars.forEach(function(b,i){
    var el=document.getElementById(b[0]);
    if(el) setTimeout(function(){el.style.width=b[1];},i*80);
  });
}
setTimeout(animateBars,400);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FILTERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function filterCong(cat,btn){
  document.querySelectorAll('#page-congress .fbtn').forEach(function(b){b.classList.remove('active')});
  btn.classList.add('active');
  document.querySelectorAll('#cong-tbl tbody tr').forEach(function(tr){
    if(cat==='all'){tr.style.display='';return;}
    tr.style.display=(tr.getAttribute('data-cat')||'').indexOf(cat)>-1?'':'none';
  });
}

function filterIns(cat,btn){
  document.querySelectorAll('#page-insider .fbtn').forEach(function(b){b.classList.remove('active')});
  btn.classList.add('active');
  document.querySelectorAll('#ins-tbl tbody tr').forEach(function(tr){
    if(cat==='all'){tr.style.display='';return;}
    tr.style.display=(tr.getAttribute('data-ins')||'').indexOf(cat)>-1?'':'none';
  });
}

function filterIdeas(patch){
  for(var k in patch) iF[k]=patch[k];
  var grps={strength:['all','exc','str','not'],dir:['all','long','short'],horizon:['all','st','mt','lt'],move:['all','m20','m30','m50','multi']};
  for(var grp in grps){
    grps[grp].forEach(function(v){
      var btn=document.getElementById('f'+grp[0]+'-'+v);
      if(btn) btn.classList.toggle('active',iF[grp]===v);
    });
  }
  document.querySelectorAll('.idea-card').forEach(function(card){
    var show=true;
    var s=card.getAttribute('data-strength')||'';
    var d=card.getAttribute('data-dir')||'';
    var h=card.getAttribute('data-horizon')||'';
    var m=card.getAttribute('data-move')||'';
    var src=card.getAttribute('data-sources')||'';
    if(iF.strength!=='all'&&s.indexOf(iF.strength)<0) show=false;
    if(iF.dir!=='all'&&d.indexOf(iF.dir)<0) show=false;
    if(iF.horizon!=='all'&&h.indexOf(iF.horizon)<0) show=false;
    if(iF.move==='multi'&&src!=='multi') show=false;
    else if(iF.move!=='all'&&iF.move!=='multi'&&m.indexOf(iF.move)<0) show=false;
    card.style.display=show?'':'none';
  });
  document.querySelectorAll('#page-ideas .g2').forEach(function(grid){
    var vis=Array.from(grid.querySelectorAll('.idea-card')).filter(function(c){return c.style.display!=='none'});
    grid.style.display=vis.length?'':'none';
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TABLE SORT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function sortTbl(th){
  var tbl=th.closest('table');
  var idx=Array.from(th.parentElement.children).indexOf(th);
  var asc=tbl.getAttribute('data-sort-col')==String(idx)&&tbl.getAttribute('data-sort-asc')==='true';
  tbl.setAttribute('data-sort-col',idx); tbl.setAttribute('data-sort-asc',String(!asc));
  var rows=Array.from(tbl.querySelectorAll('tbody tr'));
  rows.sort(function(a,b){
    var av=(a.cells[idx]?a.cells[idx].textContent.trim():'');
    var bv=(b.cells[idx]?b.cells[idx].textContent.trim():'');
    var an=parseFloat(av.replace(/[^0-9.\-]/g,'')), bn=parseFloat(bv.replace(/[^0-9.\-]/g,''));
    if(!isNaN(an)&&!isNaN(bn)) return asc?(an-bn):(bn-an);
    return asc?(av>bv?1:av<bv?-1:0):(av<bv?1:av>bv?-1:0);
  });
  rows.forEach(function(r){tbl.querySelector('tbody').appendChild(r)});
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TOASTS & NOTIFICATIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showToast(title,body,type,dur){
  type=type||'alert'; dur=dur||6000;
  var tc=document.getElementById('toast-wrap');
  var t=document.createElement('div');
  t.className='toast '+type;
  t.innerHTML='<span class="toast-close" onclick="this.parentElement.remove()">âœ•</span><div class="toast-title">'+title+'</div><div class="toast-body">'+body+'</div>';
  tc.appendChild(t);
  setTimeout(function(){t.style.animation='tout .3s ease both';setTimeout(function(){if(t.parentElement)t.remove();},300);},dur);
}

function dismissNotif(btn){
  var item=btn.closest('.notif-item');
  item.classList.remove('unread'); item.style.opacity='0.55';
  notifCnt=Math.max(0,notifCnt-1); updateBell();
}
function clearNotifs(){
  document.querySelectorAll('.notif-item.unread').forEach(function(n){n.classList.remove('unread');n.style.opacity='0.55';});
  notifCnt=0; updateBell();
}
function updateBell(){
  var lbl=document.getElementById('notif-cnt-lbl');
  if(lbl) lbl.textContent=notifCnt+' unread';
  var bell=document.getElementById('bell-cnt');
  if(bell){bell.textContent=notifCnt>0?notifCnt:'';bell.style.display=notifCnt>0?'flex':'none';}
}
function addNotif(title,body){
  var list=document.getElementById('notif-list');
  if(!list) return;
  var item=document.createElement('div');
  item.className='notif-item unread';
  item.innerHTML='<div class="notif-ico">ðŸ””</div><div style="flex:1"><div class="notif-title">'+title+'</div><div class="notif-body">'+body+'</div><div class="notif-meta"><span class="notif-time">Just now</span><span class="notif-dismiss" onclick="dismissNotif(this)">Dismiss</span></div></div>';
  list.insertBefore(item,list.firstChild);
  notifCnt++; updateBell();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SIMULATE / SMS HELPERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var simAlerts=[
  {title:'ðŸ”´ TMDX Entry Zone Reached',body:'TMDX is within $126â€“$140 entry zone. CEO score 94. Consider initiating.',type:'alert'},
  {title:'ðŸŸ¡ HR 7821 Floor Vote Feb 25',body:'AI Infrastructure Act vote in 1 day. NVDA entry zone $182â€“$198.',type:'warn'},
  {title:'ðŸŸ£ 13F: Pershing Square â†’ ANET',body:'Ackman $440M new ANET position. Aligns with CFO buy signal score 82.',type:'info'},
  {title:'ðŸ”´ Cluster: WFRD CEO+CFO',body:'WFRD CEO+CFO purchased simultaneously. $3.8M. Score 89.',type:'alert'},
  {title:'ðŸŸ¢ RTX Approaching Target 1',body:'RTX approaching Target 1 of $232. SB 1882 markup in 7 days.',type:'success'}
];
var simIdx=0;
function simulateAlert(){
  var a=simAlerts[simIdx%simAlerts.length]; simIdx++;
  showToast(a.title,a.body,a.type);
  addNotif(a.title,a.body);
}
function testSMS(){
  var ph=document.getElementById('sms-phone');
  if(!ph||!ph.value){showToast('Phone Required','Enter your mobile number to test SMS alerts.','warn');return;}
  showToast('Test SMS Sent âœ“','Test alert sent to '+ph.value+'. Check your messages in 30â€“60 seconds.','success',8000);
}
function saveSMS(){showToast('Configuration Saved âœ“','SMS alerts activated. You will be notified within 90 seconds of qualifying EDGAR Form 4 events.','success',8000);}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DYNAMIC WEIGHTS LOADER â€” reads data/optimal_weights.json
// Generated weekly by optimize_weights.py (runs Sundays 02:00 UTC)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function loadOptimalWeights(){
  fetch('data/optimal_weights.json')
    .then(function(r){ return r.json(); })
    .then(function(w){
      SCORE_WEIGHTS=w;
      SCORE_THRESHOLD=w.optimal_threshold||65;
      var threshEl=document.getElementById('ideas-threshold-display');
      if(threshEl) threshEl.textContent='\u2265 '+SCORE_THRESHOLD;
      var statsEl=document.getElementById('backtest-stats-bar');
      if(statsEl&&w.stats&&w.stats.note!=='insufficient_data'){
        var hr=w.stats.hit_rate?fmtScore(w.stats.hit_rate*100)+'%':'â€”';
        var car=w.stats.avg_car_30d?fmtPct(w.stats.avg_car_30d*100):'â€”';
        var gen=w.generated?w.generated.slice(0,10):'â€”';
        var n=w.n_events_total||'â€”';
        statsEl.textContent='Last backtest: '+gen+' Â· '+n+' events Â· Hit rate: '+hr+' Â· Avg 30d alpha: '+car;
      } else if(statsEl){
        statsEl.textContent='Learning engine ready â€” runs daily after market close';
      }
      refreshConvergenceDisplays();
    })
    .catch(function(){
      // File not found (first run before backtest) â€” use hardcoded defaults silently
    });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// BRAIN DATA LOADERS â€” reads brain_signals.json + brain_stats.json
// Generated by: python backtest/learning_engine.py --export
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function loadBrainSignals(){
  fetch('data/brain_signals.json')
    .then(function(r){ if(!r.ok) throw new Error(); return r.json(); })
    .then(function(data){
      if(!data.signals || !data.signals.length) return;
      // Rebuild TRACKED from brain signals
      var newTracked = {};
      data.signals.forEach(function(s){
        if(!s.ticker || !s.price_at_signal) return;
        newTracked[s.ticker] = {
          price: s.price_at_signal,
          entryLo: s.entry_lo,
          entryHi: s.entry_hi,
          target1: s.target1,
          target2: s.target2,
          stop: s.stop,
          dir: s.dir || 'long',
          sigDate: s.signal_date || '',
          note: s.note || '',
          source: s.source || '',
          totalScore: s.total_score || 0,
          convergenceTier: s.convergence_tier || 0,
          hasConvergence: s.has_convergence || false,
          person: s.person || '',
          personHitRate: s.person_hit_rate,
          sector: s.sector || ''
        };
      });
      if(Object.keys(newTracked).length > 0){
        TRACKED = newTracked;
      }
      // Rebuild ticker ribbon with top 10
      var ribbon = document.getElementById('ticker');
      if(ribbon){
        var html = '';
        var top10 = data.signals.slice(0, 10);
        top10.forEach(function(s){
          var cls = s.source === 'congress' ? 'tkr' : 'tks';
          var label = s.note || s.source;
          var scoreLabel = s.total_score ? 'Score ' + Math.round(s.total_score) : '';
          html += '<span class="tick"><span class="tk-sym">' + s.ticker +
                  '</span><span class="tk-lbl">' + label +
                  '</span><span class="tk-sig ' + cls + '">' + scoreLabel + '</span></span>';
        });
        ribbon.innerHTML = html;
      }
      // Rebuild exits table
      if(data.exits && data.exits.length){
        var tbody = document.getElementById('exits-tbody');
        var hd = document.getElementById('exits-card-hd');
        if(tbody){
          var rows = '';
          data.exits.forEach(function(e){
            rows += '<tr><td><div class="sym">' + e.ticker + '</div></td>' +
                    '<td><div style="font-size:11px;font-weight:600">' +
                    (e.insider_name || '') + (e.insider_role ? ' Â· ' + e.insider_role : '') +
                    '</div><div class="sym-sub">' + (e.transaction_type || 'sale') + '</div></td>' +
                    '<td class="r"><span class="val dn">â€”</span></td>' +
                    '<td class="c"><span class="score sc-bear">Exit</span></td></tr>';
          });
          tbody.innerHTML = rows;
        }
        // Remove DEMO tag from exits header
        if(hd){
          hd.innerHTML = '<div class="card-title">Notable Exit Signals</div>' +
                         '<div class="card-sub">Discretionary open-market sells Â· From Brain export</div>';
        }
      }
      refreshConvergenceDisplays();
    })
    .catch(function(){
      // brain_signals.json not found â€” keep hardcoded TRACKED
    });
}

function loadBrainStats(){
  fetch('data/brain_stats.json')
    .then(function(r){ if(!r.ok) throw new Error(); return r.json(); })
    .then(function(stats){
      // Signal Alpha KPI
      if(stats.alpha){
        var alphaEl = document.getElementById('signal-alpha-kpi');
        if(alphaEl){
          var v = stats.alpha.value || 0;
          var pct = (v * 100).toFixed(1);
          var label = (v >= 0 ? '+' : '') + pct + '%';
          var cls = v >= 0 ? 'up' : 'dn';
          alphaEl.innerHTML = '<div class="kpi-bar" style="background:var(--blue-lt);width:' +
            Math.min(Math.abs(v * 100) * 5, 100) + '%"></div>' +
            '<div class="kpi-label">ATLAS Signal Alpha</div>' +
            '<div class="kpi-value">' + label + '</div>' +
            '<div class="kpi-delta ' + cls + '">vs benchmark ' + (stats.alpha.horizon || '30d') +
            ' Â· n=' + (stats.alpha.n_signals || 0) + '</div>';
        }
      }
      // KPI strip
      if(stats.kpis){
        var k = stats.kpis;
        var el;
        el = document.getElementById('kpi-top-score');
        if(el) el.textContent = k.top_score || 'â€”';
        el = document.getElementById('kpi-top-tickers');
        if(el) el.textContent = k.top_score_tickers || 'â€”';
        el = document.getElementById('kpi-exceptional');
        if(el) el.textContent = k.exceptional_count || 0;
        el = document.getElementById('kpi-clusters');
        if(el) el.textContent = k.cluster_count || 0;
        el = document.getElementById('kpi-congress');
        if(el) el.textContent = k.congress_flags || 0;
        el = document.getElementById('kpi-convergence');
        if(el) el.textContent = k.convergence_count || 0;
      }
      // Sector performance
      if(stats.sectors && stats.sectors.length){
        var container = document.getElementById('sector-perf-container');
        if(container){
          var html = '';
          stats.sectors.forEach(function(s){
            var pct = s.avg_car_30d * 100;
            var absPct = Math.abs(pct);
            var fillW = Math.min(absPct * 8, 100);
            var fillCls = pct >= 0 ? 'sf-pos' : 'sf-neg';
            var perfCls = pct >= 0 ? 'up' : 'dn';
            var sign = pct >= 0 ? '+' : '';
            html += '<div class="sector-row"><div class="sector-name" style="width:130px">' + s.sector +
                    '</div><div class="sector-track"><div class="sector-fill ' + fillCls + '" data-w="' + fillW + '%"></div></div>' +
                    '<div class="sector-perf ' + perfCls + '">' + sign + pct.toFixed(1) + '%</div></div>';
          });
          container.innerHTML = html;
          setTimeout(animateBars, 60);
        }
      }
      // Committee correlation
      if(stats.committees && stats.committees.length){
        var cc = document.getElementById('committee-corr-container');
        if(cc){
          var anyData = stats.committees.some(function(c){ return c.n_trades > 0; });
          if(anyData){
            var html = '';
            stats.committees.forEach(function(c){
              var pct = Math.round(c.match_rate * 100);
              var color = pct >= 85 ? 'var(--red-lt)' : 'var(--amber)';
              html += '<div class="sector-row"><div class="sector-name">' + c.name +
                      '</div><div class="sector-track"><div class="sector-fill sf-pos" data-w="' + pct + '%"></div></div>' +
                      '<div class="sector-cnt" style="color:' + color + '">' + pct + '%</div>' +
                      '<div class="sector-perf" style="font-size:10px;color:var(--muted)">' + c.n_trades + ' trades</div></div>';
            });
            cc.innerHTML = html;
            setTimeout(animateBars, 60);
          }
          // else: keep hardcoded placeholder
        }
      }
      // Congressional heatmap
      if(stats.congress_heatmap && stats.congress_heatmap.length){
        var hm = document.getElementById('congress-heatmap');
        if(hm){
          var html = '';
          stats.congress_heatmap.forEach(function(c){
            html += '<div class="heat-cell h' + Math.min(c.heat, 6) + '">' +
                    '<div class="hc-sym">' + c.ticker + '</div>' +
                    '<div class="hc-nm">' + (c.name || c.ticker) + '</div></div>';
          });
          hm.innerHTML = html;
        }
      }
      // Insider sector activity
      if(stats.insider_sectors && stats.insider_sectors.length){
        var isc = document.getElementById('insider-sector-container');
        var ish = document.getElementById('insider-sector-hd');
        if(isc){
          var html = '';
          stats.insider_sectors.forEach(function(s){
            var pct = s.avg_car * 100;
            var fillW = Math.min(Math.abs(pct) * 6, 100);
            var fillCls = pct >= 0 ? 'sf-pos' : 'sf-neg';
            var perfCls = pct >= 0 ? 'up' : 'dn';
            var sign = pct >= 0 ? '+' : '';
            html += '<div class="sector-row"><div class="sector-name">' + s.sector +
                    '</div><div class="sector-track"><div class="sector-fill ' + fillCls + '" data-w="' + fillW + '%"></div></div>' +
                    '<div class="sector-cnt">' + s.n + '</div>' +
                    '<div class="sector-perf ' + perfCls + '">' + sign + pct.toFixed(1) + '%</div></div>';
          });
          isc.innerHTML = html;
          setTimeout(animateBars, 60);
        }
        // Remove DEMO tag
        if(ish){
          ish.innerHTML = '<div class="card-title">Sector Insider Activity</div>' +
                          '<div class="card-sub">30-day CAR by sector Â· From Brain export</div>';
        }
      }
    })
    .catch(function(){
      // brain_stats.json not found â€” keep hardcoded values
    });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INITIALIZATION â€” Load all live data on startup
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
window.addEventListener('load', function(){
  loadOptimalWeights();
  loadBrainSignals();
  loadBrainStats();

  // Load SEC companyâ†’ticker map for EDGAR matching (10,000+ entries)
  fetch('data/sec_tickers.json')
    .then(function(r){ return r.ok?r.json():{}; })
    .then(function(d){ SEC_TICKER_MAP=d; })
    .catch(function(){ /* sec_tickers.json not yet generated â€” use TICKER_KEYWORDS fallback */ });

  // â”€â”€ STEP 1: Render hardcoded prices IMMEDIATELY (no API needed) â”€â”€
  Object.keys(TRACKED).forEach(function(ticker){
    var data=priceCache[ticker];
    if(data){
      updatePriceStrip(ticker, data);
      updateIdeaCard(ticker, data);
    }
  });
  // Set status dots to show hardcoded data is ready
  setDataDot('finnhub','warn'); // yellow = hardcoded, not live yet
  setDataDot('edgar','warn');
  setDataDot('congress','warn');
  var el=document.getElementById('last-refresh');
  if(el){
    var d=new Date();
    el.textContent=d.toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'})+' close';
  }

  // â”€â”€ STEP 1b: Render Legislative Calendar from BILLS array (no API needed) â”€â”€
  renderLegislativeCalendar();

  // â”€â”€ STEP 2: Attempt live Finnhub fetch (works when hosted over HTTP) â”€â”€
  // If it succeeds, prices update to real-time and dot turns green.
  // If blocked (file:// protocol), hardcoded prices remain â€” no errors shown.
  setTimeout(refreshAllPrices, 1500);
  setTimeout(fetchMarketIndices, 2000);
  priceRefreshInterval = setInterval(refreshAllPrices, 60000);
  setInterval(fetchMarketIndices, 60000);

  // â”€â”€ STEP 3: EDGAR + Congress + Market context â”€â”€
  setTimeout(fetchEdgarFeed, 2500);
  setTimeout(fetchMarketDataFile, 2800); // VIX + 10yr from static file (Python-generated)
  setTimeout(fetchCongressData, 4000);
  setTimeout(fetchQuiverTrades, 5000);

  // â”€â”€ STEP 4: Briefing toast â”€â”€
  setTimeout(function(){
    showToast('ðŸ“Š ATLAS Â· Live Data Loading','Fetching prices, indices, EDGAR Form 4 feed, congressional trades, and market context (VIX + 10-yr yield).','info', 8000);
  }, 600);
});
</script>

</body>
</html>
